{"version":3,"file":"qutejs-popup-0.9.1.min.js","sources":["../../components/popup/src/popup.js","../../components/popup/src/index.jsq"],"sourcesContent":["import window, {document} from '@qutejs/window';\n\n//TODO: 1. add position classes to be able to adapt the effects: bottom, top, right, left\n// 2. remove popup.css and use some global animation css?\n// 3. use same api notations and styles with modal.js\n\nfunction toBottom(erect, rect, crect, out) {\n\tout.top = rect.bottom;\n\tif (out.top + erect.height > crect.bottom) { // flip to top\n\t\tout.top = rect.top - erect.height;\n\t}\n}\n\nfunction toTop(erect, rect, crect, out) {\n\tout.top = rect.top - erect.height;\n\tif (out.top < crect.top) { // flip to bottom\n\t\tout.top = rect.bottom;\n\t}\n}\n\nfunction toVStart(erect, rect, crect, out) {\n\tout.top = rect.top;\n\tif (out.top + erect.height > crect.bottom) { // flip\n\t\tout.top = rect.bottom - erect.height;\n\t}\n}\n\nfunction toVEnd(erect, rect, crect, out) {\n\tout.top = rect.bottom - erect.height;\n\tif (out.top < crect.top) { // flip\n\t\tout.top = rect.top;\n\t}\n}\n\nfunction toVCenter(erect, rect, crect, out) {\n\tout.top = rect.top + (rect.height - erect.height) / 2;\n}\n\nfunction toRight(erect, rect, crect, out) {\n\tout.left = rect.right;\n\tif (out.left + erect.width > crect.right) { // flip to left\n\t\tout.left = rect.left - erect.width;\n\t}\n}\n\nfunction toLeft(erect, rect, crect, out) {\n\tout.left = rect.left - erect.width;\n\tif (out.left < crect.left) { // flip to right\n\t\tout.left = rect.right;\n\t}\n}\n\n\nfunction toHStart(erect, rect, crect, out) {\n\tout.left = rect.left;\n\tif (out.left + erect.width > crect.right) { // flip\n\t\tout.left = rect.right - erect.width;\n\t}\n}\n\nfunction toHEnd(erect, rect, crect, out) {\n\tout.left = rect.right - erect.width;\n\tif (out.left < crect.left) { // flip\n\t\tout.left = rect.left;\n\t}\n}\n\nfunction toHCenter(erect, rect, crect, out) {\n\tout.left = rect.left + (rect.width - erect.width) / 2;\n}\n\n\n\nvar POS_FNS = {\n\ttop: toTop,\n\tbottom: toBottom,\n\tleft: toLeft,\n\tright: toRight\n}\n\nvar VALIGN_FNS = {\n\tstart: toVStart,\n\tend: toVEnd,\n\tcenter: toVCenter,\n\ttop: toTop,\n\tbottom: toBottom\n}\n\nvar HALIGN_FNS = {\n\tstart: toHStart,\n\tend: toHEnd,\n\tcenter: toHCenter,\n\tleft: toLeft,\n\tright: toRight\n}\n\n\n\n/*\n* Get the visible client rect contenttaining the target - relative to viewport\n*/\nfunction getVisibleClientRect(target, overflowingParents) {\n\tvar left=0, top=0, right = window.innerWidth, bottom = window.innerHeight;\n\tif (overflowingParents.length) {\n\t\tfor (var i=0,l=overflowingParents.length; i<l; i++) {\n\t\t\tvar parent = overflowingParents[i];\n\t\t\t// TODO bounding client rect includes the border -> use clientRect to remove border?\n\t\t\tvar prect = parent.getBoundingClientRect();\n\t\t\tif (prect.left > left) left = prect.left;\n\t\t\tif (prect.right < right) right = prect.right;\n\t\t\tif (prect.top > top) top = prect.top;\n\t\t\tif (prect.bottom < bottom) bottom = prect.bottom;\n\t\t}\n\t}\n\treturn {\n\t\tleft: left, top: top,\n\t\tright: right, bottom: bottom,\n\t\twidth: right-left, height: bottom-top\n\t};\n}\n\nfunction createPopup(content) {\n\tvar el = document.createElement('DIV');\n\tel.className = 'qute-popup';\n\tvar style = el.style;\n\tstyle.visibility = 'hidden';\n\tstyle.position = 'absolute';\n\tstyle.overflow = 'hidden'; // needed by some effects (e.g. slide in)\n\n\tvar contentEl = document.createElement('DIV');\n\tcontentEl.className = 'qute-popup-content';\n\tcontentEl.style.position = 'relative';\n\tel.appendChild(contentEl);\n\n\tif (content.jquery) {\n\t\tcontentEl.appendChild(content[0]);\n\t} else if (typeof content === 'string') {\n\t\tcontentEl.innerHTML = content;\n\t} else if (Array.isArray(content)) {\n\t\tfor (var i=0, l=content.length; i<l; i++) {\n\t\t\tcontentEl.appendChild(content[i]);\n\t\t}\n\t} else { // assume a element\n\t\tcontentEl.appendChild(content);\n\t}\n\treturn el;\n}\n/*\n * options: closeOnClick, position, align\n */\nfunction Popup(content) {\n\tthis.el = createPopup(content);\n\tthis.pos = 'bottom';\n\tthis.align = 'start';\n\tthis.closeOnClickOpt = true;\n\tthis.effectName = null;\n}\nPopup.prototype = {\n\tupdate: function(anchor) {\n\t\tif (anchor.jquery) anchor = anchor[0];\n\t\tvar crect = getVisibleClientRect(anchor, this.ofs);\n\t\tvar rect = anchor.getBoundingClientRect();\n\t\t// if anchor is not hidden by the overflow then hide the popup\n\t\tif (rect.top >= crect.bottom || rect.bottom <= crect.top\n\t\t\t|| rect.left >= crect.right || rect.right <= crect.left) {\n\t\t\tthis.el.style.visibility = 'hidden';\n\t\t\treturn;\n\t\t}\n\n\t\tvar style = this.el.style;\n\t\t// first check for special modifier 'fill' (before getting the boundingclient rect since setting the height/width will modify the rect)\n\t\tvar align = this.align;\n\t\tif (align === 'fill') {\n\t\t\tif (this.pos ===  'bottom' || this.pos === 'top') {\n\t\t\t\tstyle.width = anchor.offsetWidth+'px';\n\t\t\t} else {\n\t\t\t\tstyle.height = anchor.offsetHeight+'px';\n\t\t\t}\n\t\t\talign = 'start';\n\t\t} else {\n\t\t\tstyle.width && (style.width = '');\n\t\t\tstyle.height && (style.height = '');\n\t\t}\n\n\n\t\tvar erect = this.el.getBoundingClientRect(); // we only need width and height\n\t\tvar out = {};\n\n\t\tvar posFn = POS_FNS[this.pos];\n\t\tif (!posFn) throw new Error('Invalid position argument: '+this.pos+'. Expecting: top|bottom|left|right');\n\t\tposFn(erect, rect, crect, out);\n\n\t\tvar ALIGN_FNS = out.top == null ? VALIGN_FNS : HALIGN_FNS;\n\t\tvar alignFn = ALIGN_FNS[align];\n\t\tif (!alignFn) throw new Error('Invalid vert align argument: '+align+'. Expecting: '+Object.keys(ALIGN_FNS).join('|'));\n\t\talignFn(erect, rect, crect, out);\n\n\t\t//var className = out.position+' '+out.align;\n\t\t//if (this.className) className = this.className + ' ' + className;\n\t\t//this.el.className = this.c\n\n\n\t\tstyle.left = (out.left + window.pageXOffset)+'px';\n\t\tstyle.top = (out.top + window.pageYOffset)+'px';\n\t\tstyle.visibility = 'visible';\n\n\t\treturn this;\n\t},\n\topen: function(anchor) {\n\t\t// compute overflowing parents and register scroll listeners\n\t\tif (this.el.parentNode) { // already opened\n\t\t\treturn;\n\t\t}\n\t\tvar updating = false, self = this;\n\t\tvar updateFn = function() {\n\t\t\tif (!updating) {\n\t\t\t\twindow.requestAnimationFrame(function() {\n\t\t\t\t\tself.update(anchor);\n\t\t\t\t\tupdating = false;\n\t\t\t\t});\n\t\t\t\tupdating = true;\n\t\t\t}\n\t\t}\n\t\tvar ofs = [],\n\t\t\tbody = document.body,\n\t\t\tparent = anchor.parentNode;\n\t\twhile (parent && parent !== body) {\n\t\t\tif (parent.scrollHeight > parent.clientHeight || parent.scrollWidth > parent.clientWidth) {\n\t\t\t\tofs.push(parent);\n\t\t\t\tparent.addEventListener('scroll', updateFn);\n\t\t\t}\n\t\t\tparent = parent.parentNode;\n\t\t}\n\t\twindow.addEventListener('scroll', updateFn);\n\t\twindow.addEventListener('resize', updateFn);\n\t\t// TODO add resize listener\n\n\t\tthis.ofs = ofs;\n\t\t// add close on click listener\n\t\tvar closeOnClick;\n\t\tif (this.closeOnClickOpt) {\n\t\t\tcloseOnClick = function(e) {\n\t\t\t\tif (!self.el.contains(e.target)) {\n\t\t\t\t\tself.close();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tdocument.addEventListener('click', closeOnClick);\n\t\t\t}, 0);\n\t\t}\n\n\n\t\tthis.cleanup = function() {\n\t\t\tif (closeOnClick) {\n\t\t\t\tdocument.removeEventListener('click', closeOnClick);\n\t\t\t}\n\t\t\twindow.removeEventListener('resize', updateFn);\n\t\t\twindow.removeEventListener('scroll', updateFn);\n\t\t\tfor (var i=0,l=ofs.length; i<l; i++) {\n\t\t\t\tofs[i].removeEventListener('scroll', updateFn);\n\t\t\t}\n\t\t}\n\n\t\tthis.onOpen && this.onOpen(this);\n\t\t// mount the popup\n\t\tdocument.body.appendChild(this.el);\n\t\t// show it\n\t\tthis.update(anchor);\n\t\tthis.el.classList.add('qute-show');\n\t},\n\tclose: function() {\n\t\tthis.onClose && this.onClose(this);\n\t\tthis.cleanup();\n\t\tvar el = this.el;\n\t\tel.classList.remove('qute-show');\n\t\tif (this.effectName) {\n\t\t\tvar fn = function() {\n\t\t\t\tel.style.visibility = 'hidden';\n\t\t\t\tel.parentNode && el.parentNode.removeChild(el);\n\t\t\t\tel.removeEventListener('transitionend', fn);\n\t\t\t}\n\t\t\tel.addEventListener('transitionend', fn);\n\t\t} else {\n\t\t\tel.style.visibility = 'hidden';\n\t\t\tel.parentNode.removeChild(el);\n\t\t}\n\t},\n\tposition: function(position, align) {\n\t\tif (align === undefined) {\n\t\t\tposition = position.trim();\n\t\t\tvar i = position.indexOf(' ');\n\t\t\tif (i > -1) {\n\t\t\t\talign = position.substring(i+1).trim();\n\t\t\t\tposition = position.substring(0, i);\n\t\t\t}\n\t\t}\n\t\tthis.pos = position;\n\t\tif (align) this.align = align;\n\t\treturn this;\n\t},\n\tcloseOnClick: function(closeOnClick) {\n\t\tthis.closeOnClickOpt = closeOnClick;\n\t\treturn this;\n\t},\n\teffect: function(effect) {\n\t\tthis.effectName = effect;\n\t\tthis.el.className = effect ? 'qute-popup qute-effect-'+effect : 'qute-popup';\n\t\treturn this;\n\t}\n}\n\nexport default Popup;\n","import Qute from '@qutejs/runtime';\nimport Popup from './popup.js';\nimport css from './popup.css';\n\nQute.css(css);\n\n/*\nAttributes:\n\n- animation: optional: is set can be one of fade or slidde\n- position is a string in the form of \"position algin\" where\n\tposition is one of: top, bottom, left, right\n\tand align is one of: start, end, center, fill, top, bottom, left, right\n\n\tleft and right align are only valid for vertical positions.\n\ttop and bottom align are ony valid for horizontal positions\n\n- auto-close: boolean - toggle close on click. Defaults to true\n\nThe defaults are: animation: null, position: \"bottom start\", auto-close: true\n*/\nexport default Qute('popup', {\n\tinit() {\n\t\treturn {\n\t\t\tposition: 'bottom start',\n\t\t\tanimation: null,\n\t\t\tautoClose: true\n\t\t}\n\t},\n\trender: function() {\n\t\treturn document.createComment('[popup]');\n\t},\n\tcreated: function() {\n\t\tvar slots = this.$slots;\n\t\tif (!slots || !slots.default) throw new Error('<popup> requires a content!');\n\t\tthis.popup = new Popup(slots.default).effect(this.animation).position(this.position).closeOnClick(this.autoClose);\n\t\tvar self = this;\n\t\tthis.popup.onOpen = function() {\n\t\t\tself.emit(\"open\", self.popup.el);\n\t\t}\n\t\tthis.popup.onClose = function() {\n\t\t\tself.emit(\"close\", self.popup.el);\n\t\t}\n\t},\n\topen: function(target) {\n\t\tthis.popup.open(target);\n\t},\n\tclose: function() {\n\t\tthis.popup.close();\n\t}\n}).channel(function(msg, data) {\n\tif (msg === 'open') {\n\t\tthis.open(data);\n\t} else if (msg === 'close') {\n\t\tthis.close();\n\t}\n}).watch('position', function(value) {\n\tthis.popup.position(value);\n\treturn false;\n}).watch('animation', function(value) {\n\tthis.popup.effect(value);\n\treturn false;\n}).watch('autoClose', function(value) {\n\tthis.popup.closeOnClick(!!value);\n\treturn false;\n});\n"],"names":["toBottom","erect","rect","crect","out","top","bottom","height","toTop","toRight","left","right","width","toLeft","POS_FNS","VALIGN_FNS","start","end","center","HALIGN_FNS","Popup","content","this","el","document","createElement","className","style","visibility","position","overflow","contentEl","appendChild","jquery","innerHTML","Array","isArray","i","l","length","createPopup","pos","align","closeOnClickOpt","effectName","prototype","update","anchor","overflowingParents","window","innerWidth","innerHeight","prect","getBoundingClientRect","getVisibleClientRect","ofs","offsetWidth","offsetHeight","posFn","Error","ALIGN_FNS","alignFn","Object","keys","join","pageXOffset","pageYOffset","open","parentNode","closeOnClick","updating","self","updateFn","requestAnimationFrame","body","parent","scrollHeight","clientHeight","scrollWidth","clientWidth","push","addEventListener","e","contains","target","close","setTimeout","cleanup","removeEventListener","onOpen","classList","add","onClose","remove","fn","removeChild","undefined","trim","indexOf","substring","effect","Qute","css","init","animation","autoClose","render","createComment","created","slots","$slots","default","popup","emit","channel","msg","data","watch","value"],"mappings":"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"}