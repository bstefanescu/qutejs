{"version":3,"file":"qutejs-compiler-0.9.0.js","sources":["../../core/compiler/src/utils.js","../../core/compiler/src/html-parser.js","../../core/compiler/src/xtag-parser.js","../../core/compiler/src/index.js"],"sourcesContent":["\nfunction splitList(text) {\n\tif (!text) return undefined;\n\ttext = text.trim();\n\tif (!text) return undefined;\n\tvar rx = text.indexOf(',') > -1 ? /\\s*,\\s*/ : /\\s+/;\n\treturn makeSymbols(text.split(rx));\n}\n\nfunction makeSymbols(keys) {\n\treturn keys.reduce(function(acc, value) {\n\t\tacc[value] = true;\n\t\treturn acc;\n\t}, {});\n}\n\nfunction ERR(msg) {\n\tthrow new Error(msg);\n}\n\nexport { ERR, splitList, makeSymbols };\n\n\n","// A regex HTML PARSER extended to support special attr names (inspired from https://johnresig.com/blog/pure-javascript-html-parser/)\n\n\nvar STAG_RX = /^<([-A-Za-z0-9_:]+)((?:\\s+[-\\w@#:]+(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|(?:\\{[^}]*\\})|[^>\\s]+))?)*)\\s*(\\/?)>/,\n    ETAG_RX = /^<\\/([-A-Za-z0-9_:]+)[^>]*>/,\n    ATTR_RX = /([-A-Za-z0-9_@#:]+)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|(?:\\{((?:\\\\.|[^}])*)\\})|([^>\\s]+)))?/g;\n\nvar voids = {else:true, case:true, area:true, base:true, br:true, col:true, embed:true, hr:true, img:true, input:true, link:true, meta:true, param:true, source:true, track:true, wbr:true};\n\nexport default function parseHTML(html, handler) {\n    function handleStartTag(tagName, attrsDecl, isVoid) { // void elements are tags with no close tag\n        tagName = tagName.toLowerCase();\n        isVoid = isVoid || voids[tagName];\n        if (!isVoid) stack.push(tagName);\n        var attrs = [];\n        ATTR_RX.lastIndex = 0;\n        var m = ATTR_RX.exec(attrsDecl);\n        while (m) {\n            // preserve empty values like: \"\" or ''. If attribute with no value then the boolean true is used as the value\n            var v = m[2] != null ? m[2] : (m[3] != null ? m[3] : (m[4] != null ? m[4] : (m[5] != null ? m[5] : true)))\n            attrs.push({ name: m[1], value: v, expr: m[4] != null });\n            m = ATTR_RX.exec(attrsDecl);\n        }\n        handler.start(tagName, attrs, !!isVoid);\n    }\n\n    function handleEndTag(tagName) {\n        tagName = tagName.toLowerCase();\n        var top = stack.pop();\n        if (top !== tagName) throw new Error('Unmatched close tag. Current Open tag is <'+top+'> but found </'+tagName+'>')\n        handler.end(tagName);\n    }\n\n    var text = '', match = null, stack = [];\n    while (html) {\n        var i = html.indexOf('<');\n        if (i === -1) {\n            text += html;\n            html = null; // exit\n        } else if (i > 0) {\n            text += html.substring(0, i);\n            html = html.substring(i);\n        } else { // i === 0\n            var c = html.charAt(i+1);\n            if (c === '!' && html.substring(i+2, i+4) === '--') { // <!--\n                if (text && handler.text) { handler.text(text); text = ''; }\n                var k = html.indexOf('-->', i+3);\n                if (k === -1) {\n                    throw new Error('Parse error: comment not closed');\n                }\n                if (handler.comment) handler.comment(html.substring(i+3, k));\n                html = html.substring(k+3);\n            } else if (c === '/' && (match = ETAG_RX.exec(html))) { // end tag\n                if (text && handler.text) { handler.text(text); text = ''; }\n                html = html.substring(i+match[0].length);\n                handleEndTag(match[1]);\n            } else if (match = STAG_RX.exec(html)) { // start tag\n                if (text && handler.text) { handler.text(text); text = ''; }\n                html = html.substring(i+match[0].length);\n                handleStartTag(match[1], match[2], match[3]);\n            } else { // not a html tag\n                // get the next <\n                var next = html.indexOf('<', i+1);\n                if (next === -1) {\n                    text += html;\n                    html = null;\n                } else {\n                    text += html.substring(i, next);\n                    html = html.substring(next);\n                }\n            }\n        }\n    }\n    if (text && handler.text) handler.text(text);\n    if (stack.length > 0) {\n        throw new Error(\"Unclosed tag: \"+stack[0]);\n    }\n}\n\n","/**\n * Transform jsq files to js files\n * No map file is required since the transformation preserve original code lines\n */\nimport { ERR, splitList } from './utils.js';\n\n\nconst TAG_RX = /(?:^|\\n)\\s*<(?:(x-tag)|(x-style))(\\s+[^>]*)?>/;\nconst TAG_END_RX = /\\s*<\\/(?:(x-tag)|(x-style))\\s*>/;\nconst ATTR_RX = /([-A-Za-z0-9_]+)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/g;\nconst CNT_LINES_RX = /\\n/g;\n\nfunction getTagName(match) {\n    if (match[1]) return 'x-tag';\n    if (match[2]) return 'x-style';\n    ERR(\"Bug?\");\n}\n\n\nfunction parseAttrs(attrsDecl) {\n    var attrs = {};\n    ATTR_RX.lastIndex = 0;\n    var m = ATTR_RX.exec(attrsDecl);\n    while (m) {\n        // preserve empty values like: \"\" or ''. If attribute with no value then the boolean true is used as the value\n        attrs[m[1]] = m[2] != null ? m[2] : (m[3] != null ? m[3] : (m[4] != null ? m[4] : true));\n        m = ATTR_RX.exec(attrsDecl);\n    }\n    return attrs;\n}\n\nfunction newLines(text) { // remove any characters but new lines from given text\n\tvar ar = text.match(CNT_LINES_RX);\n    return ar ? ar.join('') : '';\n}\nfunction newLinesCount(text) { // remove any characters but new lines from given text\n\treturn (text.match(CNT_LINES_RX)||'').length;\n}\n\nfunction parseXTags(source, handler) {\n    var parts = [];\n    var m = TAG_RX.exec(source);\n    while (m) {\n    \tvar lfs = newLines(m[0]);\n        var partText = source.substring(0, m.index);\n        if (partText) {\n            handler.text(partText+lfs);\n        }\n        source = source.substring(m.index+m[0].length);\n        var stag = getTagName(m);\n        var attrs = m[3];\n        if (attrs) attrs = attrs.trim();\n        m = TAG_END_RX.exec(source);\n        if (!m) ERR(`Invalid qute file: No closing </${stag}> found.`);\n\n        var etag = getTagName(m);\n        if (etag !== stag) ERR(`Invalid qute file: Found closing tag '${etag}'. Expecting '${stag}'`);\n\n        partText = source.substring(0, m.index);\n        handler.tag(stag, attrs ? parseAttrs(attrs) : null, partText);\n\n        source = source.substring(m.index+m[0].length);\n        m = TAG_RX.exec(source);\n    }\n    // scan for imports on the remaining text\n    if (source)  {\n        handler.text(source);\n    }\n}\n\n\n// ======================= transform JSQ to JS =====================\n\nfunction handleTemplate(compiler, attrs, text) {\n\tif (!attrs || !attrs.name) ERR(\"x-tag attribute 'name' is required\");\n    var name = attrs.name;\n    //var fname = kebabToCamel(name);\n    var imports = attrs.import || null;\n\n    var compiledFn = compiler.compile(text, splitList(imports));\n    return 'Qute.register(\"'+name+'\", '+compiledFn+', true);\\n';\n}\n\nfunction handleStyle(compiler, attrs, text) {\n    return 'Qute.css('+JSON.stringify(text.trim())+');\\n';\n}\n\nfunction transpile(compiler, source, opts) {\n    // We do not validate source -> If the source is not including a import Qute from ... then\n    // a syntgax error will be trown by javascript (since Qute symbol will not be found)\n\n\tvar out = '';\n    parseXTags(source, {\n        tag: function(tag, attrs, text) {\n            if (text) {\n                if (tag === 'x-tag') {\n                    out += handleTemplate(compiler, attrs, text);\n                } else if (tag === 'x-style') {\n                    out += handleStyle(compiler, attrs, text);\n                } else {\n                \tERR(`Unsupported tag: '${tag}'`);\n                }\n                if (!(opts && opts.removeNewLines)) out += newLines(text);\n            }\n        },\n        text: function(text) {\n        \tif (text) out += text;\n        }\n    });\n\n    return out;\n}\n\n/*\n  cb is a callback which will be called when an xtag was parsed:\n  cb(xtagName, xtagFn, isCompiled)\n */\nfunction loadXTags(compiler, source, cb) {\n    parseXTags(source, {\n        tag: function(tag, attrs, text) {\n            if (tag !== 'x-tag') ERR(`Unsupported tag: '${tag}'`);\n            if (!attrs || !attrs.name) ERR(\"x-tag attribute 'name' is required\");\n            var fn = compiler.compileFn(text, splitList(attrs.import));\n            cb(attrs.name, fn, !attrs.static)\n        },\n        text: function(){} // ignore\n    });\n}\n\nexport { transpile, loadXTags }\n\n","import { ERR, makeSymbols } from './utils.js';\nimport parseHTML from './html-parser.js';\nimport { transpile, loadXTags } from './xtag-parser.js';\n\n/*\nattrs: {key: value, $, @}\n\nh(tag, attrs[, bindings, events], children) - output dom node\nv(expr) - variable text\nt(text) - static text\nf(list, item, index, hasNext, node) - for\nx(expr, ifFragment, elseFragment) - if\nc(tag, attrs, children) - view\n*/\n\n\n\n/*\n1. Rewrite var names inside a literal object representation: we need to avoid rewriting words inside simple or double quoted strings or unquoted keys (which looks like vars)\n\nQSTR:\n'(?:\\\\.|[^'])*'\nDQSTR:\n\"(?:\\\\.|[^\"])*\"\nVAR:\n[a-zA-Z_\\$][0-9a-zA-Z_\\$]*\nKEY:\n[\\{,]\\s*[a-zA-Z_\\$][0-9a-zA-Z_\\$]*\\s*\\:\n\n((?:QSTR)|(?:DQSTR)|(?:KEY))|(VAR)\n=> p1: ignore (String or key), p2: var\n\n2. Rewrite var names in expressions (no literal obj reprentation)\nWe can do this using the same regex as above like this:\n((?:QSTR)|(?:DQSTR))|(VAR)\n=> p1: ignore (String), p2: var\n*/\nvar VAR_RX = /^[a-zA-Z_\\$][0-9a-zA-Z_\\$]*$/;\nvar EXPR_RX = /((?:'(?:\\\\.|[^'])*')|(?:\"(?:\\\\.|[^\"])*\"))|([a-zA-Z_\\$][0-9a-zA-Z_\\$\\.]*)/g;\nvar OBJ_RX = /((?:'(?:\\\\.|[^'])*')|(?:\"(?:\\\\.|[^\"])*\")|(?:[\\{,]\\s*[a-zA-Z_\\$][0-9a-zA-Z_\\$\\.]*\\s*\\:))|([a-zA-Z_\\$][0-9a-zA-Z_\\$\\.]*)/g;\n\nvar ARROW_FN_RX = /^(\\(?)\\s*((?:[a-zA-Z_$][a-zA-Z_$0-9]*)(?:\\s*,\\s*[a-zA-Z_$][a-zA-Z_$0-9]*)*)(\\)?)\\s*=>\\s*(.*)$/;\n// nested is a special tag we added for convenience in the regular html tags - it is used as a more meaningful replacement of template or div\nvar HTML_TAGS = makeSymbols(\"nested html head meta link title base body style nav header footer main aside article section h1 h2 h3 h4 h5 h6 div p pre blockquote hr ul ol li dl dt dd span a em strong b i u s del ins mark small sup sub dfn code var samp kbd q cite ruby rt rp br wbr bdo bdi table caption tr td th thead tfoot tbody colgroup col img figure figcaption map area video audio source track script noscript object param embed iframe canvas abbr address meter progress time form button input textarea select option optgroup label fieldset legend datalist menu output details summary command keygen acronym applet bgsound basefont big center dir font frame frameset noframes strike tt xmp template\".split(\" \"));\n\n\nfunction _s(val) {\n    return JSON.stringify(val);\n}\n\nfunction _key(match) {\n\tvar i = match.indexOf('.');\n\treturn i > 0 ? match.substring(0,i) : match;\n}\n// write expr (without literal objects) by rewriting vars\nfunction __x(expr, ctx) {\n    return expr.replace(EXPR_RX, function(match, p1, p2) {\n    \tif (!p2) return match;\n    \tif (p2 === 'this') { // replace by 'm'\n    \t\treturn 'm';\n    \t} else if (p2.startsWith('this.')) {\n    \t\treturn 'm'+p2.substring(4);\n    \t}\n    \treturn !ctx.symbols[_key(match)] ? 'm.'+p2 : match;\n    });\n}\nfunction _x(expr, ctx) {\n    return '(' + __x(expr, ctx) + ')';\n}\n// write literal object by rewriting vars\nfunction _o(expr, ctx) {\n    return '(' + expr.replace(OBJ_RX, function(match, p1, p2) {\n    \tif (!p2) return match;\n    \tif (p2 === 'this') { // replace by 'm'\n    \t\treturn 'm';\n    \t} else if (p2.startsWith('this.')) {\n    \t\treturn 'm'+p2.substring(4);\n    \t}\n    \treturn !ctx.symbols[_key(match)] ? 'm.'+p2 : match;\n    }) + ')';\n}\nfunction _xo(expr, ctx) {\n\tif (expr == null) return 'null';\n\tvar c = expr.charAt(0);\n\treturn (c === '{' || c === '[' ? _o : _x)(expr, ctx);\n}\n// used to wrap a compiled expr in a lambda function\nfunction _v(expr) {\n\treturn 'function(m){return '+expr+'}';\n}\nfunction _f(expr) {\n\treturn 'function(){return '+expr+'}';\n}\nfunction _r(expr) { // a sub-rendering context fn\n\treturn 'function($){return '+expr+'}';\n}\n\nfunction getArrowFn(expr, ctx) {\n\tvar m = ARROW_FN_RX.exec(expr);\n\tif (m) {\n\t\tvar open = m[1];\n\t\tvar args = m[2].trim();\n\t\tvar close = m[3];\n\t\tvar body = m[4].trim();\n\n\t\tif (!!open !== !!close) {\n\t\t\tERR('Invalid arrow function syntax: '+expr);\n\t\t}\n\t\tif (!body) {\n\t\t\tERR('Invalid arrow function syntax: '+expr);\n\t\t}\n\t\t// 123 = { and 125 = }\n\t\tvar bs = body.charCodeAt(0);\n\t\tvar be = body.charCodeAt(body.length-1);\n\t\tif (bs === 123) {\n\t\t\tif (be !== 125) {\n\t\t\t\tERR('Invalid arrow function syntax: '+expr);\n\t\t\t} // else body is in the form { ... }\n\t\t} else if (be === 125) {\n\t\t\tERR('Invalid arrow function syntax: '+expr);\n\t\t} else { // no { ... }\n\t\t\tbody = '{'+body+';}';\n\t\t}\n\t\t// push in ctx.symbols  the local vars\n\t\tvar symbols = ctx.symbols;\n\t\tvar localSymbols = Object.assign({},symbols);\n\t\targs.split(/\\s*,\\s*/).forEach(function (key) { localSymbols[key] = true; });\n\t\tctx.symbols = localSymbols;\n\t\tvar r = '(function('+args+')'+__x(body, ctx)+')($1,m)'; // call the inline fn with the m (this) and the $1 argument\n\t\tctx.symbols = symbols; // restore symbols\n\t\treturn r;\n\t\t// pop from ctx symbols the local vars\n\t}\n\treturn null;\n}\n// write a callback (e.g. they are used by events)\n// if the event is a var name => we generate a fn: function(e) { expr(e) }\n// otherwise we generate a function: function() { expr }\nfunction _cb(expr, ctx) {\n\tif (VAR_RX.test(expr)) {\n\t\t// event listeners will be called with args:\n\t\t// 1. for functions: VM.callback(event) - where this is the VM\n\t\t// 2. for vm methods: VM.callback(event) - where this is the VM\n\t\t// 3. for expressions: $1 - the event, this - the vm\n\t\t// the event cb function must always be called with the element as the 'this' object\n\t\tif (ctx.imports[expr]) { // an imported function\n\t\t\treturn \"function($1){return \"+expr+\".call(this, $1)}\";\n\t\t} else { // a vm method\n\t\t\treturn \"function($1){return this.\"+expr+\"($1)}\";\n\t\t}\n\t} else {\n\t\tvar arrowFn = getArrowFn(expr, ctx);\n\t\tif (arrowFn) {\n\t\t\t//return \"function(this,$1){\"+arrowFn+\"}\";\n\t\t\treturn \"function($1){var m=this;\"+arrowFn+\"}\";\n\t\t} else {\n\t\t\treturn \"function($1){var m=this;\"+_x(expr, ctx)+\"}\";\n\t\t}\n\t}\n}\n\nfunction _fn(name) {\n\t//TODO '$' must not be used as a for argument!!\n\tvar r = '$.'+name+'(';\n\tif (arguments.length>1) {\n\t\tr += Array.prototype.slice.call(arguments, 1).join(',');\n\t}\n\treturn r+')';\n}\nfunction _node(xattrs, ctx) {\n\treturn xattrs ? xattrs.compile(ctx) : 'null';\n}\nfunction _nodes(children, ctx) {\n\tif (!children || !children.length) return 'null';\n\treturn '['+children.map(function(child) {\n\t\treturn child.compile(ctx);\n\t}).join(',')+']';\n}\n/*\nfunction _bindings(bindings, ctx) {\n\tvar out = [];\n\tfor (var key in bindings) {\n\t\tout.push(_s(key)+':'+_v(_xo(bindings[key], ctx)));\n\t}\n\treturn out.length ? '{'+out.join(',')+'}' : null;\n}\n*/\n/*\nfunction _bindings(bindings, ctx) {\n\tvar out = [];\n\tfor (var key in bindings) {\n\t\tout.push(_s(key)+':'+_xo(bindings[key], ctx));\n\t}\n\treturn out.length ? _v('{'+out.join(',')+'}') : null;\n}\n*/\nfunction _events(events, ctx) {\n\tvar out = [];\n\tfor (var key in events) {\n\t\tout.push(_s(key)+':'+_cb(events[key], ctx));\n\t}\n\treturn out.length ? '{'+out.join(',')+'}' : null;\n}\n/*\nfunction _attrs(attrs) {\n\tvar out = null;\n\tif (attrs) {\n\t\tout = [];\n\t\tfor (var key in attrs) {\n\t\t\tout.push(_s(key)+':'+_s(attrs[key]));\n\t\t}\n\t}\n\treturn out && out.length ? '{'+out.join(',')+'}' : 'null';\n}\n*/\n/*\nol impl which compile each binding as a function\nfunction _xattrs(bindings, events, ctx) {\n\tvar out = null;\n\tif (bindings) {\n\t\tout = [];\n\t\tfor (var key in bindings) {\n\t\t\t// TODO use v(..) only if not a literal to optimize literal assignment like boolean or number (do not enclose in a function)\n\t\t\tout.push(_s(key)+':'+_v(_xo(bindings[key], ctx)));\n\t\t}\n\t}\n\tif (events) {\n\t\tout || (out = []);\n\t\tvar v = _events(events, ctx);\n\t\tif (v) out.push('\"$on\":'+v);\n\t}\n\treturn out && out.length ? '{'+out.join(',')+'}' : 'null';\n}\n*/\nfunction _xattrs(attrs, bindings, xattrs, directives, events, ctx) {\n\tvar out = null;\n\tif (attrs) {\n\t\tout = [];\n\t\tfor (var key in attrs) {\n\t\t\tout.push(_s(key)+':'+_s(attrs[key]));\n\t\t}\n\t}\n\tif (bindings) {\n\t\tout || (out = []);\n\t\tfor (var key in bindings) {\n\t\t\tout.push(_s(key)+':'+_v(_xo(bindings[key], ctx)));\n\t\t}\n\t}\n\tif (xattrs) {\n\t\tout || (out = []);\n\t\tfor (var key in xattrs) {\n\t\t\tvar val;\n\t\t\tif (key === '$attrs' || key === '$listeners') {\n\t\t\t\tval = xattrs[key];\n\t\t\t} else {\n\t\t\t\tval = _v(_xo(xattrs[key], ctx));\n\t\t\t}\n\t\t\tout.push(_s(key)+':'+val);\n\t\t}\n\t}\n\tif (directives) {\n\t\tout || (out = []);\n\t\tfor (var key in directives) {\n\t\t\tout.push(_s(key)+':'+directives[key]); // directives are already encoded\n\t\t}\n\t}\n\tif (events) {\n\t\tout || (out = []);\n\t\tvar v = _events(events, ctx);\n\t\tif (v) out.push('\"$on\":'+v);\n\t}\n\treturn out && out.length ? '{'+out.join(',')+'}' : 'null';\n}\n\nfunction attrValue(attr) {\n\treturn attr.value === true ? attr.name : attr.value;\n}\n\nfunction RootNode() {\n\tthis.name = 'root';\n\tthis.children = [];\n\tthis.append = function(child) {\n        this.children.push(child);\n\t}\n\tthis.lastChild = function() {\n\t\treturn this.children[this.children.length-1];\n\t}\n\tthis.compile = function(ctx) {\n\t\tvar children = this.children;\n\t\tif (children.length !== 1) ERR(\"the root node must have a single children element\");\n\t\treturn this.children[0].compile(ctx);\n\t}\n\t// trim the children (remove trailing and leading blank nodes)\n\tthis.trim = function() {\n\t\tvar children = this.children;\n\t\tif (children.length > 1) {\n\t\t\tvar child = children[0];\n\t\t\tif (child instanceof TextNode && child.isBlank) children.shift();\n\t\t\tchild = children[children.length-1];\n\t\t\tif (child instanceof TextNode && child.isBlank) {\n\t\t\t\tchild.pop();\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}\n\nfunction DomNode(name, attrs) {\n\tthis.name = name;\n\tthis.attrs = null;\n\tthis.bindings = null;\n\tthis.xattrs = null; // directives like x-show\n\t// for future use (not yet used)\n\t// directives are custom attrs that can be  contirbuted by apps\n\t// They are treated like xattrs but are output as is (as they are encoded at read time)\n\tthis.directives = null;\n\tthis.events = null;\n\tthis.children = [];\n\n\tthis.attr = function(name, value) {\n\t\tif (!this.attrs) this.attrs = {};\n\t\tthis.attrs[name] = value;\n\t}\n\tthis.bind = function(name, value) {\n\t\tvar bindings = this.bindings || (this.bindings = {});\n\t\tbindings[name] = value.trim();\n\t}\n\tthis.xattr = function(name, value) {\n\t\tif (!this.xattrs) this.xattrs = {};\n\t\tthis.xattrs[name] = value.trim();\n\t}\n\tthis.directive = function(name, value) {\n\t\tif (!this.directives) this.directives = {};\n\t\tthis.directives[name] = value;\n\t}\n\tthis.on = function(name, value) {\n\t\tvar events = this.events || (this.events = {});\n\t\tevents[name] = value.trim();\n\t}\n\n\tthis.append = function(node) {\n\t\tthis.children.push(node);\n\t}\n\n\tthis.compile = function(ctx) {\n\t\tif (this.name === 'tag') {\n\t\t\tvar attrs = this.attrs;\n\t\t\tif (!attrs || !attrs.is) ERR(\"<tag> requires an 'is' attribute\");\n\t\t\tvar isAttr = attrs.is;\n\t\t\tdelete attrs.is;\n\t\t\treturn _fn('g', _v(_x(isAttr, ctx)), // g from tag\n\t\t\t\t//_attrs(this.attrs),\n\t\t\t\t_xattrs(this.attrs, this.bindings, this.xattrs, this.directives, this.events, ctx),\n\t\t\t\t_nodes(this.children, ctx));\n\t\t}\n\t\tif (this.name === 'view') {\n\t\t\tvar attrs = this.attrs;\n\t\t\tif (!attrs || !attrs.is) ERR(\"<view> requires an 'is' attribute\");\n\n\t\t\tvar isExpr = _v(_x(attrs.is, ctx));\n\t\t\tdelete attrs.is;\n\t\t\tvar noCache = 'false';\n\t\t\tif ('x-nocache' in attrs) {\n\t\t\t\tdelete attrs['x-nocache'];\n\t\t\t\tnoCache = 'true';\n\t\t\t}\n\t\t\tvar onChange = 'null';\n\t\t\tif ('x-change' in attrs) {\n\t\t\t\tonChange = _cb(attrs['x-change'], ctx);\n\t\t\t\tdelete attrs['x-change'];\n\t\t\t}\n\n\t\t\treturn _fn('w', // w from view ?\n\t\t\t\tisExpr,\n\t\t\t\tonChange,\n\t\t\t\tnoCache,\n\t\t\t\t_xattrs(this.attrs, this.bindings, this.xattrs, this.directives, this.events, ctx), //xattrs\n\t\t\t\t_r(_nodes(this.children, ctx)) // childrenFn\n\t\t\t);\n\t\t}\n\t\tvar fname, tag;\n\t\t//if (ctx.isXTag(this.name))\n\t\tif (this.name in HTML_TAGS) { // a dom element\n\t\t\tfname = 'h'; // h from html\n\t\t\ttag = _s(this.name);\n\t\t} else { // a component\n\t\t\tvar tag = ctx.resolve(this.name);\n\t\t\tif (tag) { // resolved compile time\n\t\t\t\tfname = 'v'; // v from view model\n\t\t\t} else { // should resolve at runtime\n\t\t\t\tfname = 'r'; // r from runtime\n\t\t\t\ttag = _s(this.name);\n\t\t\t}\n\t\t}\n\t\tif (this.name==='pre') {\n\t\t\tctx = ctx.push();\n\t\t\tctx.pre = true;\n\t\t}\n\t\treturn _fn(fname, tag,\n\t\t\t//_attrs(this.attrs),\n\t\t\t_xattrs(this.attrs, this.bindings, this.xattrs, this.directives, this.events, ctx),\n\t\t\t_nodes(this.children, ctx));\n\t}\n\n\tthis.xcontent = function(type, attr) {\n\t\tif (attr.value === true) {\n\t\t\treturn new StaticNode(this, type);\n\t\t} else {\n\t\t\t//TODO: use type ...\n    \t\tthis.xattr('$html', attr.value);\n    \t}\n    \treturn this;\n\t}\n\n\tfunction parseXAttrs(val) {\n\t\tif (val === true) return 'null';\n\t\tvar first = true;\n\t\tif (val.charCodeAt(0) === 33) { // a ! -> exclude rule\n\t\t\tval = val.substring(1);\n\t\t\tfirst = false;\n\t\t}\n\t\tvar ar;\n\t\tval = val.trim();\n\t\tif (val.indexOf(',') > -1) {\n\t\t\tar = val.split(/\\s*,\\s*/);\n\t\t} else {\n\t\t\tar = val.split(/\\s+/);\n\t\t}\n\t\tar.unshift(first); // insert the filter type (true for inclusion, false for exclusion) as the first item\n\t\treturn _s(ar);\n\t}\n\n\tthis.parseAttrs = function(attrs) {\n\t\tvar r = this;\n\t\tfor (var i=0,l=attrs.length; i<l; i++) {\n\t    \tvar attr = attrs[i];\n\t    \tvar name = attr.name;\n\t        var c = name[0];\n\t        if (c === ':') {\n\t        \tthis.bind(name.substring(1), attr.value);\n\t        } else if (c === '@') {\n\t        \tthis.on(name.substring(1), attr.value);\n\t        } else if ('x-for' === name) {\n\t        \tr = new ListNode(attr.value, this);\n\t        } else if ('x-attrs' === name) {\n\t        \tthis.xattr('$attrs', parseXAttrs(attr.value));\n\t        } else if ('x-listeners' === name) {\n\t        \tthis.xattr('$listeners', parseXAttrs(attr.value));\n\t        } else if ('x-channel' === name) {\n\t        \tthis.attr('$channel', attr.value); // use a regular attr since valkue is always a string literal\n\t\t\t} else if ('x-show' === name) {\n\t\t\t\tthis.xattr('$show', attr.value);\n\t\t\t} else if ('x-class' === name) {\n\t\t\t\tthis.xattr('$class', attr.value);\n\t\t\t} else if ('x-style' === name) {\n\t\t\t\tthis.xattr('$style', attr.value);\n\t\t\t} else if ('x-toggle' === name) {\n\t\t\t\tthis.xattr('$toggle', attr.value);\n\t\t\t} else if ('x-html' === name) {\n\t\t\t\tif (attr.value === true) {\n\t\t\t\t\tr = new StaticNode(this, null);\n\t\t\t\t} else {\n    \t\t\t\tthis.xattr('$html', attr.value);\n    \t\t\t}\n\t\t\t} else if ('x-markdown' === name) {\n\t\t\t\tr = new StaticNode(this, 'markdown');\n\t        } else if (name.startsWith('x-content-')) {\n\t        \tvar ctype = name.substring('x-content-'.length);\n\t        \tr = new StaticNode(this, ctype !== 'html' ? ctype : null);\n\t        } else if (attr.expr) {\n\t        \t// an expression: support { ... } as an alternative for :name\n\t    \t\tthis.bind(name, attr.value);\n\t    \t} else if (name.startsWith('x-bind:')) {\n\t    \t\tthis.bind(name.substring(7), attr.value);\n\t    \t} else if (name.startsWith('x-on:')) {\n\t    \t\tthis.on(name.substring(5), attr.value);\n\t        } else {\n\t        \tthis.attr(name, attrValue(attr));\n\t        }\n\t\t}\n\t\treturn r;\n\t}\n\n\treturn this.parseAttrs(attrs);\n}\n// a DomNode that has static children (set with innerHTML from the template content)\nfunction StaticNode(node, type) {\n\tthis.node = node;\n\tthis.compile = function(ctx) {\n\t\treturn _fn('hh', _s(this.node.name),\n\t\t\t//_attrs(this.node.attrs),\n\t\t\t_xattrs(this.node.attrs, this.node.bindings, this.node.xattrs, this.node.directives, this.node.events, ctx),\n\t\t\t_s(this.html.join('')),\n\t\t\t_s(type)\n\t\t);\n\t}\n\n\t// compile logic\n\tthis.tag = node.name;\n\tthis.stack = [];\n\tthis.html = [];\n\tthis.start = function(tagName, attrs, isVoid) {\n\t\tvar html = this.html;\n\t\thtml.push('<', tagName);\n\t\tfor (var i=0,l=attrs.length; i<l; i++) {\n\t\t\tvar attr = attrs[i];\n\t\t\thtml.push(' ', attr.name);\n\t\t\tif (attr.value !== true) {\n\t\t\t\thtml.push('=\"', attr.value, '\"');\n\t\t\t}\n\t\t}\n\t\thtml.push(isVoid?'/>':'>');\n\t\tif (!isVoid) this.stack.push(tagName);\n\t}\n\tthis.end = function(tagName) {\n\t\tvar tag = this.stack.pop();\n\t\tif (tag) { // subtree traversed\n\t\t\tif (tag !== tagName) ERR(`Closing tag '${tagName}' doesn't match the start tag '${tag}'`);\n\t\t\tthis.html.push('</', tagName, '>');\n\t\t} else {\n\t\t\treturn true; // finished\n\t\t}\n\t}\n\tthis.text = function(text) {\n\t\tthis.html.push(text);\n\t}\n}\n\nfunction TextNode(value) {\n\tthis.value = value;\n\tthis.isBlank = value.trim().length===0;\n\tthis.compile = function(ctx) {\n\t\tvar value = this.isBlank && !ctx.pre ? this.value.trim()+' ' : this.value;\n\t\treturn _fn('t', _s(value));\n\t}\n\tthis.append = function(text) {\n\t\tthis.value += text;\n\t\tif (this.isBlank) this.isBlank = this.value.trim().length===0;\n\t}\n}\n\nfunction ExprNode() {\n\tthis.parts = [];\n\tthis.text = function(text) {\n\t\tthis.parts.push(false, text);\n\t}\n\tthis.expr = function(expr) {\n\t\tthis.parts.push(true, expr);\n\t}\n\tthis.compile = function(ctx) {\n\t\tvar parts = this.parts;\n\t\tvar out = [];\n\t\tfor (var i=0,l=parts.length; i<l; i+=2) {\n\t\t\tif (parts[i]) out.push(_x(parts[i+1], ctx));\n\t\t\telse out.push(_s(parts[i+1]));\n\t\t}\n\t\t;\n\t\treturn _fn('x', _v(out.join('+')));\n\t}\n}\n\nvar FOR_RX = /^\\s*(.+)\\s+in\\s+(.+)\\s*$/;\nfunction parseForExpr(listNode, expr) {\n\tvar m = FOR_RX.exec(expr);\n\tif (!m) ERR(\"Invalid for expression\");\n\tlistNode.list = m[2].trim();\n\tvar item = m[1].trim();\n\tif (item.indexOf(',') > -1) {\n\t\tvar args = item.split(/\\s*,\\s*/);\n\t\tlistNode.item = args[0];\n\t\tlistNode.index = args[1];\n\t\tif (args.length > 2) listNode.hasNext = args[2];\n\t} else {\n\t\tlistNode.item = item;\n\t}\n}\nfunction ListNode(expr, node) {\n\tthis.node = node;\n\tthis.list = null;\n\tthis.item = null;\n\t//TODO can we just not include them in args list? instead of using _?\n\tthis.index = '_';\n\tthis.hasNext = '__';\n\n\t// parse expr\n\tparseForExpr(this, expr);\n\n\tthis.append = function(node) {\n\t\tthis.node.append(node);\n\t}\n\n\tthis.compile = function(ctx) {\n\t\t// we wrap children in a inline fucntion def so that item, index and has_next are resolved inside the children nodes\n\t\t// also, _x function must not rewrite item, index and has_next variable ...\n\t\t// 1. compile children and avoid rewriting iteration vars\n\t\tvar forCtx = ctx.push();\n\t\tvar forSymbols = forCtx.symbols;\n\t\tforSymbols[this.item] = true;\n\t\tforSymbols[this.index] = true;\n\t\tforSymbols[this.hasNext] = true;\n\t\tvar children = _node(this.node, forCtx);\n\t\t// 2. wrap children\n\t\tvar childrenFn = 'function($,'+this.item+','+this.index+','+this.hasNext+'){return '+children+'}';\n\t\treturn _fn('l', _v(_x(this.list, ctx)), childrenFn);\n\t}\n\n}\n\nfunction ForNode(tag, attrs) {\n\tthis.list = null;\n\tthis.item = null;\n\tthis.index = '_';\n\tthis.hasNext = '__';\n\n\tthis.children = [];\n\tthis.append = function(child) {\n        this.children.push(child);\n\t}\n\tthis.lastChild = function() {\n\t\treturn this.children[this.children.length-1];\n\t}\n\tthis.compile = function(ctx) {\n\t\t// we wrap children in a inline fucntion def so that item, index and has_next are resolved inside the children nodes\n\t\t// also, _x function must not rewrite item, index and has_next variable ...\n\t\t// 1. compile children and avoid rewriting iteration vars\n\t\tvar forCtx = ctx.push();\n\t\tvar forSymbols = forCtx.symbols;\n\t\tforSymbols[this.item] = true;\n\t\tforSymbols[this.index] = true;\n\t\tforSymbols[this.hasNext] = true;\n\t\tvar children = _nodes(this.children, forCtx);\n\t\t// 2. wrap children\n\t\tvar childrenFn = 'function('+this.item+','+this.index+','+this.hasNext+'){return '+children+'}';\n\t\treturn _fn('a', _v(_x(this.list, ctx)), childrenFn);\n\t}\n\n\tif (attrs.length !== 1) ERR(\"For directive take exatcly one attribute\");\n\tparseForExpr(this, attrs[0].value);\n}\n\nfunction IfNode(tag, attrs) {\n\tthis.children = [];\n\tthis._else = null;\n\tthis.change = null; // onchange event handler if any\n\tthis.expr = null;\n\n\t// we don't check the attr name - any name may be used (not only 'value')\n\tvar valueAttr = attrs[0];\n\tif (attrs.length === 2) {\n\t\tvar changeAttr = attrs[1];\n\t\tif (valueAttr.name === 'x-change') {\n\t\t\tchangeAttr = valueAttr;\n\t\t\tvalueAttr = attrs[1];\n\t\t} else if (changeAttr.name !== 'x-change') {\n\t\t\tERR(`Invalid if attribute '${changeAttr.name}'. You may want to use x-change?`);\n\t\t}\n\t\tthis.change = changeAttr.value;\n\t} else if (attrs.length !== 1) {\n\t\tERR(\"if has only one required attribute: value='expr' and an optional one: x-change='onChangeHandler'\");\n\t}\n\tthis.expr = attrValue(valueAttr);\n\n\tthis.append = function(node) {\n\t\tif (node instanceof ElseNode) {\n\t\t\tthis._else = [];\n\t\t} else if (this._else) {\n\t\t\tthis._else.push(node);\n\t\t} else {\n\t\t\tthis.children.push(node);\n\t\t}\n\t}\n\n\tthis.compile = function(ctx) {\n\t\tvar change = this.change ? _cb(this.change, ctx) : 'null';\n\t\tif (this._else) {\n\t\t\treturn _fn('i', _v(_x(this.expr, ctx)), change, _r(_nodes(this.children, ctx)), _r(_nodes(this._else, ctx)));\n\t\t} else {\n\t\t\treturn _fn('i', _v(_x(this.expr, ctx)), change, _r(_nodes(this.children, ctx)));\n\t\t}\n\t}\n}\n\nfunction ElseNode() {\n}\n\n\n//TODO\nfunction SlotNode(tagName, attrs) {\n\tthis.name = tagName;\n\tthis.children = [];\n\tthis.append = function(child) {\n        this.children.push(child);\n\t}\n\t//TODO is this needed?\n\tthis.lastChild = function() {\n\t\treturn this.children[this.children.length-1];\n\t}\n\tthis.process = function(processor) {\n\t\treturn processor.processSlot(this);\n\t}\n\tthis.compile = function(ctx) {\n\t\t// we push the 'm' (current model) because the slot renderer (i.e. r.s)\n\t\t// needs the current model to fetch the slot value\n\t\treturn _fn('s', _s(this.slotName), _nodes(this.children, ctx));\n\t}\n\tif (attrs.length > 1) ERR(\"slot node take zero or one 'name' parameter\");\n\tthis.slotName = attrs.length ? attrValue(attrs[0]) : null;\n}\n\n\nvar MUSTACHE_RX = /\\{\\{([^\\}]+)\\}\\}/g;\n//var BLANK_RX = /^\\s*$/;\n\nvar NODES = {\n\t'if':  IfNode,\n\t'else':  ElseNode,\n\t'for':  ForNode,\n\t'slot': SlotNode\n}\n\nvar SYMBOLS = {\n\t\"true\": true, \"false\": true, \"undefined\": true, \"null\":true, \"$1\": true,\n\t\"this\":true, \"JSON\": true, \"Object\":true, \"console\":true, \"window\": true, \"$\": true\n};\n\n\n\nfunction Compiler() {\n\tfunction Context(symbols, imports, resolve, pre) {\n\t\tthis.pre = pre; // if pre then do not compact spaces in TextNodes\n\t\tthis.resolve = resolve;\n\t\tthis.symbols = symbols;\n\t\tthis.imports = imports;\n\t\tthis.push = function() {\n\t\t\treturn new Context(Object.assign({}, this.symbols), this.imports, this.resolve, this.pre);\n\t\t}\n\t}\n\t// collector is used only when static html should be collected sue to an x-html attribute\n\t// See StaticNode\n\tthis.collector = null;\n\tthis.top = null;\n\tthis.stack = [];\n\tthis.lastText = null; // used to merge adjacent text nodes\n\n\tthis.resolve = function(tag) {\n\t\treturn null;// the default is to resolve at runtime\n\t}\n\n\tthis.pushText = function(text) {\n\t\tif (this.lastText) this.lastText.append(text);\n\t\telse {\n\t\t\tvar node = new TextNode(text);\n\t\t\tthis.push(node, true);\n\t\t\tthis.lastText = node;\n\t\t}\n\t}\n\n\tthis.push = function(node, isVoid) {\n\t\tthis.lastText = null;\n\t\tthis.top.append(node);\n\t\tif (!isVoid) {\n\t\t\tthis.stack.push(this.top);\n\t\t\tthis.top = node;\n\t\t}\n\t}\n\n\tthis.pop = function() {\n\t\tthis.lastText = null;\n        var top = this.top;\n        this.top = this.stack.pop();\n        return top;\n\t}\n\n\n\tthis.text = function(text) {\n\t\tif (this.collector) {\n\t\t\tthis.collector.text(text);\n\t\t\treturn;\n\t\t}\n\t    var i = text.indexOf('{{'), s = 0;\n\t    if (i > -1) {\n\t        MUSTACHE_RX.lastIndex = i;\n\t        var match = MUSTACHE_RX.exec(text);\n\t        if (match) {\n\t           \tvar node = new ExprNode();\n\t            do {\n\t                var index = match.index;\n\t                if (index > s) {\n\t                    node.text(text.substring(s, index));\n\t                }\n\t                node.expr(match[1]);\n\t                s = MUSTACHE_RX.lastIndex;\n\t                match = MUSTACHE_RX.exec(text);\n\t            } while (match);\n\t            if (s < text.length) {\n\t                node.text(text.substring(s));\n\t            }\n\t            this.push(node, true);\n\t            return;\n\t        }\n\t    }\n\t    this.pushText(text);\n\t}\n\n\tthis.start = function(tagName, attrs, isVoid) {\n\t\tif (this.collector) {\n\t\t\tthis.collector.start(tagName, attrs, isVoid);\n\t\t} else {\n\t\t\tvar NodeType = NODES[tagName];\n\t\t\tvar node;\n\t\t\tif (NodeType) {\n\t\t\t\tnode = new NodeType(tagName, attrs, isVoid);\n\t\t\t} else {\n\t\t\t\tnode = new DomNode(tagName, attrs, isVoid);\n\t\t\t\tif (node instanceof StaticNode) {\n\t\t\t\t\t// allow <div x-conent-{random} />\n\t\t\t\t\t//if (isVoid) ERR(\"Static node (x-html) must have some content\");\n\t\t\t\t\tthis.collector = node;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.push(node, isVoid);\n\t\t}\n\t}\n\n\tthis.end = function(tagName) {\n\t\tif (this.collector) {\n\t\t\tif (!this.collector.end(tagName)) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t// subtree traversed - remove collector\n\t\t\tthis.collector = null;\n\t\t}\n\t\tthis.pop();\n\t}\n\n\tthis.parse = function(text) {\n\t\tthis.top = new RootNode();\n\t\tparseHTML(text.trim(), {\n\t\t\tstart: this.start.bind(this),\n\t\t\tend: this.end.bind(this),\n\t\t\ttext: this.text.bind(this)\n\t\t});\n\t\t// \"trim\" the root node (blank text mnodes mayt appear because of comments)\n\t\treturn this.top.trim();\n\t}\n\n    this.compile = function(text, imports, pre) { // r is the Renderer\n    \tvar ctx = new Context(Object.assign(imports || {}, SYMBOLS), imports || {}, this.resolve, pre);\n    \tvar r = this.parse(text).compile(ctx);\n    \t//console.log(\"COMPILED:\",r);\n        return 'function($){return '+r+';}';\n    }\n\n\tthis.compileFn = function(text, imports, pre) {\n\t\tvar ctx = new Context(Object.assign(imports || {}, SYMBOLS), imports || {}, this.resolve, pre);\n    \tvar r = this.parse(text).compile(ctx);\n    \t//console.log(\"COMPILED:\",r);\n\t\treturn new Function('$', 'return '+r+';');\n\t}\n\n\tthis.transpile = function(source, opts) {\n\t\treturn transpile(this, source, opts);\n\t}\n\n\tthis.loadXTags = function(source, cb) {\n\t\treturn loadXTags(this, source, cb);\n\t}\n\n}\n\nexport default Compiler;\n"],"names":["const","ATTR_RX"],"mappings":";;;CACA,SAAS,SAAS,CAAC,IAAI,EAAE;EACxB,IAAI,CAAC,IAAI,IAAE,OAAO,SAAS,GAAC;EAC5B,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;EACnB,IAAI,CAAC,IAAI,IAAE,OAAO,SAAS,GAAC;EAC5B,IAAI,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,GAAG,KAAK,CAAC;EACpD,OAAO,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;EACnC;;CAED,SAAS,WAAW,CAAC,IAAI,EAAE;EAC1B,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,EAAE,KAAK,EAAE;GACvC,GAAG,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;GAClB,OAAO,GAAG,CAAC;GACX,EAAE,EAAE,CAAC,CAAC;EACP;;CAED,SAAS,GAAG,CAAC,GAAG,EAAE;EACjB,MAAM,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC;EACrB;;CClBD;;;CAGA,IAAI,OAAO,GAAG,8GAA8G;KACxH,OAAO,GAAG,6BAA6B;KACvC,OAAO,GAAG,mHAAmH,CAAC;;CAElI,IAAI,KAAK,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,KAAK,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;;AAE5L,CAAe,SAAS,SAAS,CAAC,IAAI,EAAE,OAAO,EAAE;KAC7C,SAAS,cAAc,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE;SAChD,OAAO,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;SAChC,MAAM,GAAG,MAAM,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC;SAClC,IAAI,CAAC,MAAM,IAAE,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,GAAC;SACjC,IAAI,KAAK,GAAG,EAAE,CAAC;SACf,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC;SACtB,IAAI,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SAChC,OAAO,CAAC,EAAE;;aAEN,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,EAAC;aAC1G,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC;aACzD,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;UAC/B;SACD,OAAO,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;MAC3C;;KAED,SAAS,YAAY,CAAC,OAAO,EAAE;SAC3B,OAAO,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;SAChC,IAAI,GAAG,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;SACtB,IAAI,GAAG,KAAK,OAAO,IAAE,MAAM,IAAI,KAAK,CAAC,4CAA4C,CAAC,GAAG,CAAC,gBAAgB,CAAC,OAAO,CAAC,GAAG,GAAC;SACnH,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;MACxB;;KAED,IAAI,IAAI,GAAG,EAAE,EAAE,KAAK,GAAG,IAAI,EAAE,KAAK,GAAG,EAAE,CAAC;KACxC,OAAO,IAAI,EAAE;SACT,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;SAC1B,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;aACV,IAAI,IAAI,IAAI,CAAC;aACb,IAAI,GAAG,IAAI,CAAC;UACf,MAAM,IAAI,CAAC,GAAG,CAAC,EAAE;aACd,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;aAC7B,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;UAC5B,MAAM;aACH,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;aACzB,IAAI,CAAC,KAAK,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;iBAChD,IAAI,IAAI,IAAI,OAAO,CAAC,IAAI,EAAE,EAAE,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE;iBAC5D,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;iBACjC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;qBACV,MAAM,IAAI,KAAK,CAAC,iCAAiC,CAAC,CAAC;kBACtD;iBACD,IAAI,OAAO,CAAC,OAAO,IAAE,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAC;iBAC7D,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cAC9B,MAAM,IAAI,CAAC,KAAK,GAAG,KAAK,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE;iBAClD,IAAI,IAAI,IAAI,OAAO,CAAC,IAAI,EAAE,EAAE,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE;iBAC5D,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;iBACzC,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;cAC1B,MAAM,IAAI,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;iBACnC,IAAI,IAAI,IAAI,OAAO,CAAC,IAAI,EAAE,EAAE,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE;iBAC5D,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;iBACzC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;cAChD,MAAM;;iBAEH,IAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;iBAClC,IAAI,IAAI,KAAK,CAAC,CAAC,EAAE;qBACb,IAAI,IAAI,IAAI,CAAC;qBACb,IAAI,GAAG,IAAI,CAAC;kBACf,MAAM;qBACH,IAAI,IAAI,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;qBAChC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;kBAC/B;cACJ;UACJ;MACJ;KACD,IAAI,IAAI,IAAI,OAAO,CAAC,IAAI,IAAE,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,GAAC;KAC7C,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;SAClB,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9C;EACJ;;CC7ED;;;;AAIA;;CAGAA,IAAM,MAAM,GAAG,+CAA+C,CAAC;CAC/DA,IAAM,UAAU,GAAG,iCAAiC,CAAC;CACrDA,IAAMC,SAAO,GAAG,wFAAwF,CAAC;CACzGD,IAAM,YAAY,GAAG,KAAK,CAAC;;CAE3B,SAAS,UAAU,CAAC,KAAK,EAAE;KACvB,IAAI,KAAK,CAAC,CAAC,CAAC,IAAE,OAAO,OAAO,GAAC;KAC7B,IAAI,KAAK,CAAC,CAAC,CAAC,IAAE,OAAO,SAAS,GAAC;KAC/B,GAAG,CAAC,MAAM,CAAC,CAAC;EACf;;;CAGD,SAAS,UAAU,CAAC,SAAS,EAAE;KAC3B,IAAI,KAAK,GAAG,EAAE,CAAC;KACfC,SAAO,CAAC,SAAS,GAAG,CAAC,CAAC;KACtB,IAAI,CAAC,GAAGA,SAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KAChC,OAAO,CAAC,EAAE;;SAEN,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;SACzF,CAAC,GAAGA,SAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;MAC/B;KACD,OAAO,KAAK,CAAC;EAChB;;CAED,SAAS,QAAQ,CAAC,IAAI,EAAE;EACvB,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;KAC/B,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;EAChC;AACD;CAIA,SAAS,UAAU,CAAC,MAAM,EAAE,OAAO,EAAE;KAEjC,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC5B,OAAO,CAAC,EAAE;MACT,IAAI,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SACtB,IAAI,QAAQ,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;SAC5C,IAAI,QAAQ,EAAE;aACV,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;UAC9B;SACD,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;SAC/C,IAAI,IAAI,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;SACzB,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;SACjB,IAAI,KAAK,IAAE,KAAK,GAAG,KAAK,CAAC,IAAI,EAAE,GAAC;SAChC,CAAC,GAAG,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SAC5B,IAAI,CAAC,CAAC,IAAE,GAAG,uCAAoC,IAAI,eAAW,GAAC;;SAE/D,IAAI,IAAI,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;SACzB,IAAI,IAAI,KAAK,IAAI,IAAE,GAAG,6CAA0C,IAAI,sBAAiB,IAAI,QAAI,GAAC;;SAE9F,QAAQ,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;SACxC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,GAAG,IAAI,EAAE,QAAQ,CAAC,CAAC;;SAE9D,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;SAC/C,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;MAC3B;;KAED,IAAI,MAAM,GAAG;SACT,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;MACxB;EACJ;;;;;CAKD,SAAS,cAAc,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE;EAC9C,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,IAAE,GAAG,CAAC,oCAAoC,CAAC,GAAC;KAClE,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;;KAEtB,IAAI,OAAO,GAAG,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC;;KAEnC,IAAI,UAAU,GAAG,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;KAC5D,OAAO,iBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,YAAY,CAAC;EAC/D;;CAED,SAAS,WAAW,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,EAAE;KACxC,OAAO,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC;EACzD;;CAED,SAAS,SAAS,CAAC,QAAQ,EAAE,MAAM,EAAE,IAAI,EAAE;;;;EAI1C,IAAI,GAAG,GAAG,EAAE,CAAC;KACV,UAAU,CAAC,MAAM,EAAE;SACf,GAAG,EAAE,SAAS,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE;aAC5B,IAAI,IAAI,EAAE;iBACN,IAAI,GAAG,KAAK,OAAO,EAAE;qBACjB,GAAG,IAAI,cAAc,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;kBAChD,MAAM,IAAI,GAAG,KAAK,SAAS,EAAE;qBAC1B,GAAG,IAAI,WAAW,CAAC,QAAQ,EAAE,KAAK,EAAE,IAAI,CAAC,CAAC;kBAC7C,MAAM;kBACN,GAAG,yBAAsB,GAAG,QAAI,CAAC;kBACjC;iBACD,IAAI,EAAE,IAAI,IAAI,IAAI,CAAC,cAAc,CAAC,IAAE,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,GAAC;cAC7D;UACJ;SACD,IAAI,EAAE,SAAS,IAAI,EAAE;UACpB,IAAI,IAAI,IAAE,GAAG,IAAI,IAAI,GAAC;UACtB;MACJ,CAAC,CAAC;;KAEH,OAAO,GAAG,CAAC;EACd;;;;;;CAMD,SAAS,SAAS,CAAC,QAAQ,EAAE,MAAM,EAAE,EAAE,EAAE;KACrC,UAAU,CAAC,MAAM,EAAE;SACf,GAAG,EAAE,SAAS,GAAG,EAAE,KAAK,EAAE,IAAI,EAAE;aAC5B,IAAI,GAAG,KAAK,OAAO,IAAE,GAAG,yBAAsB,GAAG,QAAI,GAAC;aACtD,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,IAAI,IAAE,GAAG,CAAC,oCAAoC,CAAC,GAAC;aACrE,IAAI,EAAE,GAAG,QAAQ,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;aAC3D,EAAE,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,EAAE,CAAC,KAAK,CAAC,MAAM,EAAC;UACpC;SACD,IAAI,EAAE,UAAU,EAAE;MACrB,CAAC,CAAC;EACN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CC1FD,IAAI,MAAM,GAAG,8BAA8B,CAAC;CAC5C,IAAI,OAAO,GAAG,2EAA2E,CAAC;CAC1F,IAAI,MAAM,GAAG,yHAAyH,CAAC;;CAEvI,IAAI,WAAW,GAAG,+FAA+F,CAAC;;CAElH,IAAI,SAAS,GAAG,WAAW,CAAC,qqBAAqqB,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;;;CAG9sB,SAAS,EAAE,CAAC,GAAG,EAAE;KACb,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;EAC9B;;CAED,SAAS,IAAI,CAAC,KAAK,EAAE;EACpB,IAAI,CAAC,GAAG,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;EAC3B,OAAO,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;EAC5C;;CAED,SAAS,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE;KACpB,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE;MACpD,IAAI,CAAC,EAAE,IAAE,OAAO,KAAK,GAAC;MACtB,IAAI,EAAE,KAAK,MAAM,EAAE;OAClB,OAAO,GAAG,CAAC;OACX,MAAM,IAAI,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;OAClC,OAAO,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;OAC3B;MACD,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,KAAK,CAAC;MACnD,CAAC,CAAC;EACN;CACD,SAAS,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE;KACnB,OAAO,GAAG,GAAG,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC;EACrC;;CAED,SAAS,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE;KACnB,OAAO,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,SAAS,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE;MACzD,IAAI,CAAC,EAAE,IAAE,OAAO,KAAK,GAAC;MACtB,IAAI,EAAE,KAAK,MAAM,EAAE;OAClB,OAAO,GAAG,CAAC;OACX,MAAM,IAAI,EAAE,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;OAClC,OAAO,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;OAC3B;MACD,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG,KAAK,CAAC;MACnD,CAAC,GAAG,GAAG,CAAC;EACZ;CACD,SAAS,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE;EACvB,IAAI,IAAI,IAAI,IAAI,IAAE,OAAO,MAAM,GAAC;EAChC,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;EACvB,OAAO,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;EACrD;;CAED,SAAS,EAAE,CAAC,IAAI,EAAE;EACjB,OAAO,qBAAqB,CAAC,IAAI,CAAC,GAAG,CAAC;EACtC;AACD,CAGA,SAAS,EAAE,CAAC,IAAI,EAAE;EACjB,OAAO,qBAAqB,CAAC,IAAI,CAAC,GAAG,CAAC;EACtC;;CAED,SAAS,UAAU,CAAC,IAAI,EAAE,GAAG,EAAE;EAC9B,IAAI,CAAC,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;EAC/B,IAAI,CAAC,EAAE;GACN,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;GAChB,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;GACvB,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;GACjB,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;;GAEvB,IAAI,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,KAAK,EAAE;IACvB,GAAG,CAAC,iCAAiC,CAAC,IAAI,CAAC,CAAC;IAC5C;GACD,IAAI,CAAC,IAAI,EAAE;IACV,GAAG,CAAC,iCAAiC,CAAC,IAAI,CAAC,CAAC;IAC5C;;GAED,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;GAC5B,IAAI,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;GACxC,IAAI,EAAE,KAAK,GAAG,EAAE;IACf,IAAI,EAAE,KAAK,GAAG,EAAE;KACf,GAAG,CAAC,iCAAiC,CAAC,IAAI,CAAC,CAAC;KAC5C;IACD,MAAM,IAAI,EAAE,KAAK,GAAG,EAAE;IACtB,GAAG,CAAC,iCAAiC,CAAC,IAAI,CAAC,CAAC;IAC5C,MAAM;IACN,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;IACrB;;GAED,IAAI,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC;GAC1B,IAAI,YAAY,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;GAC7C,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE,EAAE,YAAY,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;GAC5E,GAAG,CAAC,OAAO,GAAG,YAAY,CAAC;GAC3B,IAAI,CAAC,GAAG,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,SAAS,CAAC;GACvD,GAAG,CAAC,OAAO,GAAG,OAAO,CAAC;GACtB,OAAO,CAAC,CAAC;;GAET;EACD,OAAO,IAAI,CAAC;EACZ;;;;CAID,SAAS,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE;EACvB,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;;;;;;GAMtB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;IACtB,OAAO,sBAAsB,CAAC,IAAI,CAAC,kBAAkB,CAAC;IACtD,MAAM;IACN,OAAO,2BAA2B,CAAC,IAAI,CAAC,OAAO,CAAC;IAChD;GACD,MAAM;GACN,IAAI,OAAO,GAAG,UAAU,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;GACpC,IAAI,OAAO,EAAE;;IAEZ,OAAO,0BAA0B,CAAC,OAAO,CAAC,GAAG,CAAC;IAC9C,MAAM;IACN,OAAO,0BAA0B,CAAC,EAAE,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;IACpD;GACD;EACD;;CAED,SAAS,GAAG,CAAC,IAAI,EAAE;;EAElB,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;EACtB,IAAI,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE;GACvB,CAAC,IAAI,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;GACxD;EACD,OAAO,CAAC,CAAC,GAAG,CAAC;EACb;CACD,SAAS,KAAK,CAAC,MAAM,EAAE,GAAG,EAAE;EAC3B,OAAO,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;EAC7C;CACD,SAAS,MAAM,CAAC,QAAQ,EAAE,GAAG,EAAE;EAC9B,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,MAAM,IAAE,OAAO,MAAM,GAAC;EACjD,OAAO,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,SAAS,KAAK,EAAE;GACvC,OAAO,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;GAC1B,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;EACjB;;;;;;;;;;;;;;;;;;;CAmBD,SAAS,OAAO,CAAC,MAAM,EAAE,GAAG,EAAE;EAC7B,IAAI,GAAG,GAAG,EAAE,CAAC;EACb,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE;GACvB,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;GAC5C;EACD,OAAO,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;EACjD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAgCD,SAAS,OAAO,CAAC,KAAK,EAAE,QAAQ,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE;EAClE,IAAI,GAAG,GAAG,IAAI,CAAC;EACf,IAAI,KAAK,EAAE;GACV,GAAG,GAAG,EAAE,CAAC;GACT,KAAK,IAAI,GAAG,IAAI,KAAK,EAAE;IACtB,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACrC;GACD;EACD,IAAI,QAAQ,EAAE;GACb,GAAG,KAAK,GAAG,GAAG,EAAE,CAAC,CAAC;GAClB,KAAK,IAAI,GAAG,IAAI,QAAQ,EAAE;IACzB,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;IAClD;GACD;EACD,IAAI,MAAM,EAAE;GACX,GAAG,KAAK,GAAG,GAAG,EAAE,CAAC,CAAC;GAClB,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE;IACvB,IAAI,GAAG,CAAC;IACR,IAAI,GAAG,KAAK,QAAQ,IAAI,GAAG,KAAK,YAAY,EAAE;KAC7C,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;KAClB,MAAM;KACN,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;KAChC;IACD,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IAC1B;GACD;EACD,IAAI,UAAU,EAAE;GACf,GAAG,KAAK,GAAG,GAAG,EAAE,CAAC,CAAC;GAClB,KAAK,IAAI,GAAG,IAAI,UAAU,EAAE;IAC3B,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC;IACtC;GACD;EACD,IAAI,MAAM,EAAE;GACX,GAAG,KAAK,GAAG,GAAG,EAAE,CAAC,CAAC;GAClB,IAAI,CAAC,GAAG,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;GAC7B,IAAI,CAAC,IAAE,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAC;GAC5B;EACD,OAAO,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,MAAM,CAAC;EAC1D;;CAED,SAAS,SAAS,CAAC,IAAI,EAAE;EACxB,OAAO,IAAI,CAAC,KAAK,KAAK,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;EACpD;;CAED,SAAS,QAAQ,GAAG;EACnB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;EACnB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;EACnB,IAAI,CAAC,MAAM,GAAG,SAAS,KAAK,EAAE;SACvB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChC;EACD,IAAI,CAAC,SAAS,GAAG,WAAW;GAC3B,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAC7C;EACD,IAAI,CAAC,OAAO,GAAG,SAAS,GAAG,EAAE;GAC5B,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;GAC7B,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,IAAE,GAAG,CAAC,mDAAmD,CAAC,GAAC;GACpF,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IACrC;;EAED,IAAI,CAAC,IAAI,GAAG,WAAW;GACtB,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;GAC7B,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;IACxB,IAAI,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;IACxB,IAAI,KAAK,YAAY,QAAQ,IAAI,KAAK,CAAC,OAAO,IAAE,QAAQ,CAAC,KAAK,EAAE,GAAC;IACjE,KAAK,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IACpC,IAAI,KAAK,YAAY,QAAQ,IAAI,KAAK,CAAC,OAAO,EAAE;KAC/C,KAAK,CAAC,GAAG,EAAE,CAAC;KACZ;IACD;GACD,OAAO,IAAI,CAAC;IACZ;EACD;;CAED,SAAS,OAAO,CAAC,IAAI,EAAE,KAAK,EAAE;EAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;EACjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;EAClB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;EACrB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;;;;EAInB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;EACvB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;EACnB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;;EAEnB,IAAI,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE,KAAK,EAAE;GACjC,IAAI,CAAC,IAAI,CAAC,KAAK,IAAE,IAAI,CAAC,KAAK,GAAG,EAAE,GAAC;GACjC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;IACzB;EACD,IAAI,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE,KAAK,EAAE;GACjC,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC,CAAC;GACrD,QAAQ,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;IAC9B;EACD,IAAI,CAAC,KAAK,GAAG,SAAS,IAAI,EAAE,KAAK,EAAE;GAClC,IAAI,CAAC,IAAI,CAAC,MAAM,IAAE,IAAI,CAAC,MAAM,GAAG,EAAE,GAAC;GACnC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;IACjC;EACD,IAAI,CAAC,SAAS,GAAG,SAAS,IAAI,EAAE,KAAK,EAAE;GACtC,IAAI,CAAC,IAAI,CAAC,UAAU,IAAE,IAAI,CAAC,UAAU,GAAG,EAAE,GAAC;GAC3C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;IAC9B;EACD,IAAI,CAAC,EAAE,GAAG,SAAS,IAAI,EAAE,KAAK,EAAE;GAC/B,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC;GAC/C,MAAM,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;IAC5B;;EAED,IAAI,CAAC,MAAM,GAAG,SAAS,IAAI,EAAE;GAC5B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzB;;EAED,IAAI,CAAC,OAAO,GAAG,SAAS,GAAG,EAAE;GAC5B,IAAI,IAAI,CAAC,IAAI,KAAK,KAAK,EAAE;IACxB,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IACvB,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,EAAE,IAAE,GAAG,CAAC,kCAAkC,CAAC,GAAC;IACjE,IAAI,MAAM,GAAG,KAAK,CAAC,EAAE,CAAC;IACtB,OAAO,KAAK,CAAC,EAAE,CAAC;IAChB,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;;KAElC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC;KAClF,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;IAC7B;GACD,IAAI,IAAI,CAAC,IAAI,KAAK,MAAM,EAAE;IACzB,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IACvB,IAAI,CAAC,KAAK,IAAI,CAAC,KAAK,CAAC,EAAE,IAAE,GAAG,CAAC,mCAAmC,CAAC,GAAC;;IAElE,IAAI,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC,CAAC;IACnC,OAAO,KAAK,CAAC,EAAE,CAAC;IAChB,IAAI,OAAO,GAAG,OAAO,CAAC;IACtB,IAAI,WAAW,IAAI,KAAK,EAAE;KACzB,OAAO,KAAK,CAAC,WAAW,CAAC,CAAC;KAC1B,OAAO,GAAG,MAAM,CAAC;KACjB;IACD,IAAI,QAAQ,GAAG,MAAM,CAAC;IACtB,IAAI,UAAU,IAAI,KAAK,EAAE;KACxB,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE,GAAG,CAAC,CAAC;KACvC,OAAO,KAAK,CAAC,UAAU,CAAC,CAAC;KACzB;;IAED,OAAO,GAAG,CAAC,GAAG;KACb,MAAM;KACN,QAAQ;KACR,OAAO;KACP,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC;KAClF,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;KAC9B,CAAC;IACF;GACD,IAAI,KAAK,EAAE,GAAG,CAAC;;GAEf,IAAI,IAAI,CAAC,IAAI,IAAI,SAAS,EAAE;IAC3B,KAAK,GAAG,GAAG,CAAC;IACZ,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACpB,MAAM;IACN,IAAI,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACjC,IAAI,GAAG,EAAE;KACR,KAAK,GAAG,GAAG,CAAC;KACZ,MAAM;KACN,KAAK,GAAG,GAAG,CAAC;KACZ,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACpB;IACD;GACD,IAAI,IAAI,CAAC,IAAI,GAAG,KAAK,EAAE;IACtB,GAAG,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;IACjB,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC;IACf;GACD,OAAO,GAAG,CAAC,KAAK,EAAE,GAAG;;IAEpB,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC;IAClF,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;IAC7B;;EAED,IAAI,CAAC,QAAQ,GAAG,SAAS,IAAI,EAAE,IAAI,EAAE;GACpC,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,EAAE;IACxB,OAAO,IAAI,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAClC,MAAM;;OAEH,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;OAChC;MACD,OAAO,IAAI,CAAC;IACf;;EAED,SAAS,WAAW,CAAC,GAAG,EAAE;GACzB,IAAI,GAAG,KAAK,IAAI,IAAE,OAAO,MAAM,GAAC;GAChC,IAAI,KAAK,GAAG,IAAI,CAAC;GACjB,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE;IAC7B,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;IACvB,KAAK,GAAG,KAAK,CAAC;IACd;GACD,IAAI,EAAE,CAAC;GACP,GAAG,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;GACjB,IAAI,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;IAC1B,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;IAC1B,MAAM;IACN,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;IACtB;GACD,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;GAClB,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;GACd;;EAED,IAAI,CAAC,UAAU,GAAG,SAAS,KAAK,EAAE;GACjC,IAAI,CAAC,GAAG,IAAI,CAAC;GACb,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;OACnC,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;OACpB,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;UAClB,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;UAChB,IAAI,CAAC,KAAK,GAAG,EAAE;WACd,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;WACzC,MAAM,IAAI,CAAC,KAAK,GAAG,EAAE;WACrB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;WACvC,MAAM,IAAI,OAAO,KAAK,IAAI,EAAE;WAC5B,CAAC,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;WACnC,MAAM,IAAI,SAAS,KAAK,IAAI,EAAE;WAC9B,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;WAC9C,MAAM,IAAI,aAAa,KAAK,IAAI,EAAE;WAClC,IAAI,CAAC,KAAK,CAAC,YAAY,EAAE,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;WAClD,MAAM,IAAI,WAAW,KAAK,IAAI,EAAE;WAChC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;KACxC,MAAM,IAAI,QAAQ,KAAK,IAAI,EAAE;KAC7B,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;KAChC,MAAM,IAAI,SAAS,KAAK,IAAI,EAAE;KAC9B,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;KACjC,MAAM,IAAI,SAAS,KAAK,IAAI,EAAE;KAC9B,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;KACjC,MAAM,IAAI,UAAU,KAAK,IAAI,EAAE;KAC/B,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;KAClC,MAAM,IAAI,QAAQ,KAAK,IAAI,EAAE;KAC7B,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,EAAE;MACxB,CAAC,GAAG,IAAI,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;MAC/B,MAAM;SACH,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;SAChC;KACJ,MAAM,IAAI,YAAY,KAAK,IAAI,EAAE;KACjC,CAAC,GAAG,IAAI,UAAU,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;WAC/B,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE;WACzC,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;WAChD,CAAC,GAAG,IAAI,UAAU,CAAC,IAAI,EAAE,KAAK,KAAK,MAAM,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC;WAC1D,MAAM,IAAI,IAAI,CAAC,IAAI,EAAE;;QAExB,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5B,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;QACtC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;QACzC,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE;QACpC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;WACpC,MAAM;WACN,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;WACjC;IACP;GACD,OAAO,CAAC,CAAC;IACT;;EAED,OAAO,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;EAC9B;;CAED,SAAS,UAAU,CAAC,IAAI,EAAE,IAAI,EAAE;EAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;EACjB,IAAI,CAAC,OAAO,GAAG,SAAS,GAAG,EAAE;GAC5B,OAAO,GAAG,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;;IAElC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC;IAC3G,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACtB,EAAE,CAAC,IAAI,CAAC;IACR,CAAC;IACF;;;EAGD,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;EACrB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;EAChB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;EACf,IAAI,CAAC,KAAK,GAAG,SAAS,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE;GAC7C,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;GACrB,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,OAAO,CAAC,CAAC;GACxB,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;IACtC,IAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;IACpB,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1B,IAAI,IAAI,CAAC,KAAK,KAAK,IAAI,EAAE;KACxB,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;KACjC;IACD;GACD,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;GAC3B,IAAI,CAAC,MAAM,IAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,GAAC;IACtC;EACD,IAAI,CAAC,GAAG,GAAG,SAAS,OAAO,EAAE;GAC5B,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;GAC3B,IAAI,GAAG,EAAE;IACR,IAAI,GAAG,KAAK,OAAO,IAAE,GAAG,oBAAiB,OAAO,uCAAkC,GAAG,QAAI,GAAC;IAC1F,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC;IACnC,MAAM;IACN,OAAO,IAAI,CAAC;IACZ;IACD;EACD,IAAI,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE;GAC1B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACrB;EACD;;CAED,SAAS,QAAQ,CAAC,KAAK,EAAE;EACxB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;EACnB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,CAAC;EACvC,IAAI,CAAC,OAAO,GAAG,SAAS,GAAG,EAAE;GAC5B,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;GAC1E,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;IAC3B;EACD,IAAI,CAAC,MAAM,GAAG,SAAS,IAAI,EAAE;GAC5B,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC;GACnB,IAAI,IAAI,CAAC,OAAO,IAAE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,CAAC,GAAC;IAC9D;EACD;;CAED,SAAS,QAAQ,GAAG;EACnB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;EAChB,IAAI,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE;GAC1B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IAC7B;EACD,IAAI,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE;GAC1B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC5B;EACD,IAAI,CAAC,OAAO,GAAG,SAAS,GAAG,EAAE;GAC5B,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;GACvB,IAAI,GAAG,GAAG,EAAE,CAAC;GACb,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;IACvC,IAAI,KAAK,CAAC,CAAC,CAAC,IAAE,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,GAAC;WACvC,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAC;IAC9B;GAED,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACnC;EACD;;CAED,IAAI,MAAM,GAAG,0BAA0B,CAAC;CACxC,SAAS,YAAY,CAAC,QAAQ,EAAE,IAAI,EAAE;EACrC,IAAI,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;EAC1B,IAAI,CAAC,CAAC,IAAE,GAAG,CAAC,wBAAwB,CAAC,GAAC;EACtC,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;EAC5B,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;EACvB,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;GAC3B,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;GACjC,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;GACxB,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;GACzB,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,IAAE,QAAQ,CAAC,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC;GAChD,MAAM;GACN,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC;GACrB;EACD;CACD,SAAS,QAAQ,CAAC,IAAI,EAAE,IAAI,EAAE;EAC7B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;EACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;EACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;EAEjB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;EACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;;;EAGpB,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;;EAEzB,IAAI,CAAC,MAAM,GAAG,SAAS,IAAI,EAAE;GAC5B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACvB;;EAED,IAAI,CAAC,OAAO,GAAG,SAAS,GAAG,EAAE;;;;GAI5B,IAAI,MAAM,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;GACxB,IAAI,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC;GAChC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;GAC7B,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;GAC9B,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;GAChC,IAAI,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;;GAExC,IAAI,UAAU,GAAG,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC;GAClG,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;IACpD;;EAED;;CAED,SAAS,OAAO,CAAC,GAAG,EAAE,KAAK,EAAE;EAC5B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;EACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;EACjB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;EACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;;EAEpB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;EACnB,IAAI,CAAC,MAAM,GAAG,SAAS,KAAK,EAAE;SACvB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChC;EACD,IAAI,CAAC,SAAS,GAAG,WAAW;GAC3B,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAC7C;EACD,IAAI,CAAC,OAAO,GAAG,SAAS,GAAG,EAAE;;;;GAI5B,IAAI,MAAM,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;GACxB,IAAI,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC;GAChC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;GAC7B,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;GAC9B,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;GAChC,IAAI,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;;GAE7C,IAAI,UAAU,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC;GAChG,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;IACpD;;EAED,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,IAAE,GAAG,CAAC,0CAA0C,CAAC,GAAC;EACxE,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;EACnC;;CAED,SAAS,MAAM,CAAC,GAAG,EAAE,KAAK,EAAE;EAC3B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;EACnB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;EAClB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;EACnB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;;EAGjB,IAAI,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;EACzB,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;GACvB,IAAI,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;GAC1B,IAAI,SAAS,CAAC,IAAI,KAAK,UAAU,EAAE;IAClC,UAAU,GAAG,SAAS,CAAC;IACvB,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;IACrB,MAAM,IAAI,UAAU,CAAC,IAAI,KAAK,UAAU,EAAE;IAC1C,GAAG,8BAA0B,UAAU,CAAC,KAAI,uCAAmC,CAAC;IAChF;GACD,IAAI,CAAC,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC;GAC/B,MAAM,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;GAC9B,GAAG,CAAC,kGAAkG,CAAC,CAAC;GACxG;EACD,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC;;EAEjC,IAAI,CAAC,MAAM,GAAG,SAAS,IAAI,EAAE;GAC5B,IAAI,IAAI,YAAY,QAAQ,EAAE;IAC7B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IAChB,MAAM,IAAI,IAAI,CAAC,KAAK,EAAE;IACtB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACtB,MAAM;IACN,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACzB;IACD;;EAED,IAAI,CAAC,OAAO,GAAG,SAAS,GAAG,EAAE;GAC5B,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,MAAM,CAAC;GAC1D,IAAI,IAAI,CAAC,KAAK,EAAE;IACf,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,EAAE,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;IAC7G,MAAM;IACN,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,EAAE,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;IAChF;IACD;EACD;;CAED,SAAS,QAAQ,GAAG;EACnB;;;;CAID,SAAS,QAAQ,CAAC,OAAO,EAAE,KAAK,EAAE;EACjC,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC;EACpB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;EACnB,IAAI,CAAC,MAAM,GAAG,SAAS,KAAK,EAAE;SACvB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChC;;EAED,IAAI,CAAC,SAAS,GAAG,WAAW;GAC3B,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAC7C;EACD,IAAI,CAAC,OAAO,GAAG,SAAS,SAAS,EAAE;GAClC,OAAO,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACnC;EACD,IAAI,CAAC,OAAO,GAAG,SAAS,GAAG,EAAE;;;GAG5B,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;IAC/D;EACD,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,IAAE,GAAG,CAAC,6CAA6C,CAAC,GAAC;EACzE,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;EAC1D;;;CAGD,IAAI,WAAW,GAAG,mBAAmB,CAAC;;;CAGtC,IAAI,KAAK,GAAG;EACX,IAAI,GAAG,MAAM;EACb,MAAM,GAAG,QAAQ;EACjB,KAAK,GAAG,OAAO;EACf,MAAM,EAAE,QAAQ;GAChB;;CAED,IAAI,OAAO,GAAG;EACb,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI;EACvE,MAAM,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI;EACnF,CAAC;;;;CAIF,SAAS,QAAQ,GAAG;EACnB,SAAS,OAAO,CAAC,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,EAAE;GAChD,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;GACf,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;GACvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;GACvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;GACvB,IAAI,CAAC,IAAI,GAAG,WAAW;IACtB,OAAO,IAAI,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;KAC1F;GACD;;;EAGD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;EACtB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;EAChB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;EAChB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;;EAErB,IAAI,CAAC,OAAO,GAAG,SAAS,GAAG,EAAE;GAC5B,OAAO,IAAI,CAAC;IACZ;;EAED,IAAI,CAAC,QAAQ,GAAG,SAAS,IAAI,EAAE;GAC9B,IAAI,IAAI,CAAC,QAAQ,IAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,GAAC;QACzC;IACJ,IAAI,IAAI,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC9B,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACrB;IACD;;EAED,IAAI,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE,MAAM,EAAE;GAClC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;GACrB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;GACtB,IAAI,CAAC,MAAM,EAAE;IACZ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC1B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;IAChB;IACD;;EAED,IAAI,CAAC,GAAG,GAAG,WAAW;GACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;SACf,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;SACnB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;SAC5B,OAAO,GAAG,CAAC;IACjB;;;EAGD,IAAI,CAAC,IAAI,GAAG,SAAS,IAAI,EAAE;GAC1B,IAAI,IAAI,CAAC,SAAS,EAAE;IACnB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1B,OAAO;IACP;MACE,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC;MAClC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;UACR,WAAW,CAAC,SAAS,GAAG,CAAC,CAAC;UAC1B,IAAI,KAAK,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;UACnC,IAAI,KAAK,EAAE;cACP,IAAI,IAAI,GAAG,IAAI,QAAQ,EAAE,CAAC;cAC1B,GAAG;kBACC,IAAI,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;kBACxB,IAAI,KAAK,GAAG,CAAC,EAAE;sBACX,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;mBACvC;kBACD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;kBACpB,CAAC,GAAG,WAAW,CAAC,SAAS,CAAC;kBAC1B,KAAK,GAAG,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;eAClC,QAAQ,KAAK,EAAE;cAChB,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE;kBACjB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;eAChC;cACD,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;cACtB,OAAO;WACV;OACJ;MACD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IACvB;;EAED,IAAI,CAAC,KAAK,GAAG,SAAS,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE;GAC7C,IAAI,IAAI,CAAC,SAAS,EAAE;IACnB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;IAC7C,MAAM;IACN,IAAI,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC;IAC9B,IAAI,IAAI,CAAC;IACT,IAAI,QAAQ,EAAE;KACb,IAAI,GAAG,IAAI,QAAQ,CAAC,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;KAC5C,MAAM;KACN,IAAI,GAAG,IAAI,OAAO,CAAC,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;KAC3C,IAAI,IAAI,YAAY,UAAU,EAAE;;;MAG/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;MACtB;KACD;IACD,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;IACxB;IACD;;EAED,IAAI,CAAC,GAAG,GAAG,SAAS,OAAO,EAAE;GAC5B,IAAI,IAAI,CAAC,SAAS,EAAE;IACnB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;KACjC,MAAM;KACN;;IAED,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IACtB;GACD,IAAI,CAAC,GAAG,EAAE,CAAC;IACX;;EAED,IAAI,CAAC,KAAK,GAAG,SAAS,IAAI,EAAE;GAC3B,IAAI,CAAC,GAAG,GAAG,IAAI,QAAQ,EAAE,CAAC;GAC1B,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE;IACtB,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;IAC5B,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;IACxB,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;IAC1B,CAAC,CAAC;;GAEH,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC;IACvB;;KAEE,IAAI,CAAC,OAAO,GAAG,SAAS,IAAI,EAAE,OAAO,EAAE,GAAG,EAAE;MAC3C,IAAI,GAAG,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,EAAE,EAAE,OAAO,CAAC,EAAE,OAAO,IAAI,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;MAC/F,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;;SAEnC,OAAO,qBAAqB,CAAC,CAAC,CAAC,IAAI,CAAC;OACvC;;EAEJ,IAAI,CAAC,SAAS,GAAG,SAAS,IAAI,EAAE,OAAO,EAAE,GAAG,EAAE;GAC7C,IAAI,GAAG,GAAG,IAAI,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,EAAE,EAAE,OAAO,CAAC,EAAE,OAAO,IAAI,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;MAC5F,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;;GAEzC,OAAO,IAAI,QAAQ,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAC1C;;EAED,IAAI,CAAC,SAAS,GAAG,SAAS,MAAM,EAAE,IAAI,EAAE;GACvC,OAAO,SAAS,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,CAAC;IACrC;;EAED,IAAI,CAAC,SAAS,GAAG,SAAS,MAAM,EAAE,EAAE,EAAE;GACrC,OAAO,SAAS,CAAC,IAAI,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;IACnC;;EAED;;;;;;;;"}