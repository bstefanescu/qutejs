{"version":3,"file":"qutejs-polyfill-0.10.0.js","sources":["../polyfill/src/class-list.js","../polyfill/src/object-assign.js","../polyfill/src/starts-with.js","../polyfill/src/custom-event.js","../polyfill/src/element-closest.js"],"sourcesContent":["/* Polyfill from https://developer.mozilla.org/en-US/docs/Web/API/Element/classList */\n\nimport window from '@qutejs/window';\n\n// removed polyfill code for IE7-8 the target is IE>=9\nif (!window.DOMException) (window.DOMException = function(reason) {\n    this.message = reason\n}).prototype = new Error;\n\nvar wsRE = /[\\11\\12\\14\\15\\40]/,\n    wsIndex = 0,\n    checkIfValidClassListEntry = function(O, V) {\n        if (V === \"\") throw new DOMException(\n            \"Failed to execute '\" + O + \"' on 'DOMTokenList': The token provided must not be empty.\");\n        if ((wsIndex = V.search(wsRE)) !== -1) throw new DOMException(\"Failed to execute '\" + O + \"' on 'DOMTokenList': \" +\n            \"The token provided ('\" + V[wsIndex] + \"') contains HTML space characters, which are not valid in tokens.\");\n    }\n\n// 1. Implement the barebones DOMTokenList livelyness polyfill\nif (typeof window.DOMTokenList !== \"function\") {\n    var hasOwnProp = Object.prototype.hasOwnProperty;\n    var defineProperty = Object.defineProperty,\n        allowTokenListConstruction = 0,\n        skipPropChange = 0;\n\n    var DOMTokenList = function() {\n        if (!allowTokenListConstruction) throw TypeError(\"Illegal constructor\"); // internally let it through\n    }\n    DOMTokenList.prototype.toString = DOMTokenList.prototype.toLocaleString = function() {\n        return this.value\n    };\n    DOMTokenList.prototype.add = function() {\n        a: for (var v = 0, argLen = arguments.length, val = \"\", ele = this[\" uCL\"], proto = ele[\" uCLp\"]; v !== argLen; ++v) {\n            val = arguments[v] + \"\", checkIfValidClassListEntry(\"add\", val);\n            for (var i = 0, Len = proto.length, resStr = val; i !== Len; ++i)\n                if (this[i] === val) continue a;\n                else resStr += \" \" + this[i];\n            this[Len] = val, proto.length += 1, proto.value = resStr;\n        }\n        skipPropChange = 1,\n        ele.className = proto.value,\n        skipPropChange = 0;\n    };\n    DOMTokenList.prototype.remove = function() {\n        for (var v = 0, argLen = arguments.length, val = \"\", ele = this[\" uCL\"], proto = ele[\" uCLp\"]; v !== argLen; ++v) {\n            val = arguments[v] + \"\", checkIfValidClassListEntry(\"remove\", val);\n            for (var i = 0, Len = proto.length, resStr = \"\", is = 0; i !== Len; ++i)\n                if (is) {\n                    this[i - 1] = this[i]\n                } else {\n                    if (this[i] !== val) {\n                        resStr += this[i] + \" \";\n                    } else {\n                        is = 1;\n                    }\n                }\n            if (!is) continue;\n            delete this[Len], proto.length -= 1, proto.value = resStr;\n        }\n        skipPropChange = 1, ele.className = proto.value, skipPropChange = 0;\n    };\n    window.DOMTokenList = DOMTokenList;\n\n    var whenPropChanges = function() {\n        var evt = window.event,\n            prop = evt.propertyName;\n        if (!skipPropChange && (prop === \"className\" || (prop === \"classList\" && !defineProperty))) {\n            var target = evt.srcElement,\n                protoObjProto = target[\" uCLp\"],\n                strval = \"\" + target[prop];\n            var tokens = strval.trim().split(wsRE),\n                resTokenList = target[prop === \"classList\" ? \" uCL\" : \"classList\"];\n            var oldLen = protoObjProto.length;\n            a: for (var cI = 0, cLen = protoObjProto.length = tokens.length, sub = 0; cI !== cLen; ++cI) {\n                for (var innerI = 0; innerI !== cI; ++innerI)\n                    if (tokens[innerI] === tokens[cI]) {\n                        sub++;\n                        continue a;\n                    }\n                resTokenList[cI - sub] = tokens[cI];\n            }\n            for (var i = cLen - sub; i < oldLen; ++i) delete resTokenList[i]; //remove trailing indexs\n            if (prop !== \"classList\") return;\n            skipPropChange = 1, target.classList = resTokenList, target.className = strval;\n            skipPropChange = 0, resTokenList.length = tokens.length - sub;\n        }\n    }\n\n    var polyfillClassList = function(ele) {\n        if (!ele || !(\"innerHTML\" in ele)) throw TypeError(\"Illegal invocation\");\n        ele.detachEvent(\"onpropertychange\", whenPropChanges); // prevent duplicate handler infinite loop\n        allowTokenListConstruction = 1;\n        var protoObj = function() {};\n        try {\n            protoObj.prototype = new DOMTokenList();\n        } finally {\n            allowTokenListConstruction = 0\n        }\n        var protoObjProto = protoObj.prototype,\n            resTokenList = new protoObj();\n        a: for (var toks = ele.className.trim().split(wsRE), cI = 0, cLen = toks.length, sub = 0; cI !== cLen; ++cI) {\n            for (var innerI = 0; innerI !== cI; ++innerI)\n                if (toks[innerI] === toks[cI]) {\n                    sub++;\n                    continue a;\n                }\n            this[cI - sub] = toks[cI];\n        }\n        protoObjProto.length = cLen - sub, protoObjProto.value = ele.className, protoObjProto[\" uCL\"] = ele;\n        if (defineProperty) {\n            defineProperty(ele, \"classList\", { // IE8 & IE9 allow defineProperty on the DOM\n                enumerable: 1,\n                get: function() {\n                    return resTokenList\n                },\n                configurable: 0,\n                set: function(newVal) {\n                    skipPropChange = 1, ele.className = protoObjProto.value = (newVal += \"\"), skipPropChange = 0;\n                    var toks = newVal.trim().split(wsRE),\n                        oldLen = protoObjProto.length;\n                    a: for (var cI = 0, cLen = protoObjProto.length = toks.length, sub = 0; cI !== cLen; ++cI) {\n                        for (var innerI = 0; innerI !== cI; ++innerI)\n                            if (toks[innerI] === toks[cI]) {\n                                sub++;\n                                continue a;\n                            }\n                        resTokenList[cI - sub] = toks[cI];\n                    }\n                    for (var i = cLen - sub; i < oldLen; ++i) delete resTokenList[i]; //remove trailing indexs\n                }\n            });\n            defineProperty(ele, \" uCLp\", { // for accessing the hidden prototype\n                enumerable: 0,\n                configurable: 0,\n                writeable: 0,\n                value: protoObj.prototype\n            });\n            defineProperty(protoObjProto, \" uCL\", {\n                enumerable: 0,\n                configurable: 0,\n                writeable: 0,\n                value: ele\n            });\n        } else {\n            ele.classList = resTokenList, ele[\" uCL\"] = resTokenList, ele[\" uCLp\"] = protoObj.prototype;\n        }\n        ele.attachEvent(\"onpropertychange\", whenPropChanges);\n    }\n    window.Object.defineProperty(window.Element.prototype, \"classList\", {\n        enumerable: 1,\n        get: function(val) {\n            if (!hasOwnProp.call(this, \"classList\")) polyfillClassList(this);\n            return this.classList;\n        },\n        configurable: 0,\n        set: function(val) {\n            this.className = val\n        }\n    });\n}\n\n// 2. Patch in unsupported methods in DOMTokenList\nvar DOMTokenListProto = window.DOMTokenList.prototype;\nvar testClass = window.document.createElement(\"div\").classList;\nif (!DOMTokenListProto.item) DOMTokenListProto.item = function(i) {\n    function NullCheck(n) {\n        return n === void 0 ? null : n\n    }\n    return NullCheck(this[i]);\n};\nif (!DOMTokenListProto.toggle || testClass.toggle(\"a\", 0) !== false) DOMTokenListProto.toggle = function(val) {\n    if (arguments.length > 1) return (this[arguments[1] ? \"add\" : \"remove\"](val), !!arguments[1]);\n    var oldValue = this.value;\n    return (this.remove(oldValue), oldValue === this.value && (this.add(val), true) /*|| false*/ );\n};\nif (!DOMTokenListProto.replace || typeof testClass.replace(\"a\", \"b\") !== \"boolean\")\n    DOMTokenListProto.replace = function(oldToken, newToken) {\n        checkIfValidClassListEntry(\"replace\", oldToken), checkIfValidClassListEntry(\"replace\", newToken);\n        var oldValue = this.value;\n        return (this.remove(oldToken), this.value !== oldValue && (this.add(newToken), true));\n    };\nif (!DOMTokenListProto.contains) DOMTokenListProto.contains = function(value) {\n    for (var i = 0, Len = this.length; i !== Len; ++i)\n        if (this[i] === value) return true;\n    return false;\n};\nif (!DOMTokenListProto.forEach) DOMTokenListProto.forEach = function(f) {\n    if (arguments.length === 1)\n        for (var i = 0, Len = this.length; i !== Len; ++i) f(this[i], i, this);\n    else\n        for (var i = 0, Len = this.length, tArg = arguments[1]; i !== Len; ++i) f.call(tArg, this[i], i, this);\n};\nif (!DOMTokenListProto.entries) DOMTokenListProto.entries = function() {\n    var nextIndex = 0,\n        that = this;\n    return {\n        next: function() {\n            return nextIndex < that.length ? {\n                value: [nextIndex, that[nextIndex]],\n                done: false\n            } : {\n                done: true\n            };\n        }\n    };\n};\nif (!DOMTokenListProto.values) DOMTokenListProto.values = function() {\n    var nextIndex = 0,\n        that = this;\n    return {\n        next: function() {\n            return nextIndex < that.length ? {\n                value: that[nextIndex],\n                done: false\n            } : {\n                done: true\n            };\n        }\n    };\n};\nif (!DOMTokenListProto.keys) DOMTokenListProto.keys = function() {\n    var nextIndex = 0,\n        that = this;\n    return {\n        next: function() {\n            return nextIndex < that.length ? {\n                value: nextIndex,\n                done: false\n            } : {\n                done: true\n            };\n        }\n    };\n};\n","/* Polyfill from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign */\nif (typeof Object.assign !== 'function') {\n  // Must be writable: true, enumerable: false, configurable: true\n  Object.defineProperty(Object, \"assign\", {\n    value: function assign(target, varArgs) { // .length of function is 2\n      'use strict';\n      if (target === null || target === undefined) {\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource !== null && nextSource !== undefined) {\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    },\n    writable: true,\n    configurable: true\n  });\n}\n","/*\n * Polyfill from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n */\n\nif (!String.prototype.startsWith) {\n    Object.defineProperty(String.prototype, 'startsWith', {\n        value: function(search, rawPos) {\n            var pos = rawPos > 0 ? rawPos|0 : 0;\n            return this.substring(pos, pos + search.length) === search;\n        }\n    });\n}\n","/*\n * Polyfill from https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent#Polyfills\n */\nimport window from '@qutejs/window';\n\nif ( typeof window.CustomEvent !== \"function\" ) {\n\twindow.CustomEvent = function ( event, params ) {\n\t\tparams = params || { bubbles: false, cancelable: false, detail: null };\n\t\tvar evt = window.document.createEvent( 'CustomEvent' );\n\t\tevt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail );\n\t\treturn evt;\n\t}\n}\n","/**\n * Polyfill from https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\n */\n\nimport window from '@qutejs/window';\n\n// matches polyfill\nvar Element = window.Element;\nif (!Element.prototype.matches) {\n  Element.prototype.matches =\n      Element.prototype.matchesSelector ||\n      Element.prototype.mozMatchesSelector ||\n      Element.prototype.msMatchesSelector ||\n      Element.prototype.oMatchesSelector ||\n      Element.prototype.webkitMatchesSelector ||\n      function(s) {\n        var matches = (this.document || this.ownerDocument).querySelectorAll(s),\n            i = matches.length;\n        while (--i >= 0 && matches.item(i) !== this) {}\n        return i > -1;\n      };\n}\n\n// Polyfill from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n// closest polyfill\nif (!Element.prototype.closest) {\n  Element.prototype.closest = function(s) {\n    var el = this;\n    do {\n      if (el.matches(s)) return el;\n      el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n    return null;\n  };\n}\n\n"],"names":["arguments"],"mappings":"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"}