{"version":3,"file":"qutejs-popup-0.9.2.js","sources":["../../components/popup/src/popup.js","../../components/popup/src/index.jsq"],"sourcesContent":["import window, {document} from '@qutejs/window';\n\n//TODO: 1. add position classes to be able to adapt the effects: bottom, top, right, left\n// 2. remove popup.css and use some global animation css?\n// 3. use same api notations and styles with modal.js\n\nfunction toBottom(erect, rect, crect, out) {\n\tout.top = rect.bottom;\n\tif (out.top + erect.height > crect.bottom) { // flip to top\n\t\tout.top = rect.top - erect.height;\n\t}\n}\n\nfunction toTop(erect, rect, crect, out) {\n\tout.top = rect.top - erect.height;\n\tif (out.top < crect.top) { // flip to bottom\n\t\tout.top = rect.bottom;\n\t}\n}\n\nfunction toVStart(erect, rect, crect, out) {\n\tout.top = rect.top;\n\tif (out.top + erect.height > crect.bottom) { // flip\n\t\tout.top = rect.bottom - erect.height;\n\t}\n}\n\nfunction toVEnd(erect, rect, crect, out) {\n\tout.top = rect.bottom - erect.height;\n\tif (out.top < crect.top) { // flip\n\t\tout.top = rect.top;\n\t}\n}\n\nfunction toVCenter(erect, rect, crect, out) {\n\tout.top = rect.top + (rect.height - erect.height) / 2;\n}\n\nfunction toRight(erect, rect, crect, out) {\n\tout.left = rect.right;\n\tif (out.left + erect.width > crect.right) { // flip to left\n\t\tout.left = rect.left - erect.width;\n\t}\n}\n\nfunction toLeft(erect, rect, crect, out) {\n\tout.left = rect.left - erect.width;\n\tif (out.left < crect.left) { // flip to right\n\t\tout.left = rect.right;\n\t}\n}\n\n\nfunction toHStart(erect, rect, crect, out) {\n\tout.left = rect.left;\n\tif (out.left + erect.width > crect.right) { // flip\n\t\tout.left = rect.right - erect.width;\n\t}\n}\n\nfunction toHEnd(erect, rect, crect, out) {\n\tout.left = rect.right - erect.width;\n\tif (out.left < crect.left) { // flip\n\t\tout.left = rect.left;\n\t}\n}\n\nfunction toHCenter(erect, rect, crect, out) {\n\tout.left = rect.left + (rect.width - erect.width) / 2;\n}\n\n\n\nvar POS_FNS = {\n\ttop: toTop,\n\tbottom: toBottom,\n\tleft: toLeft,\n\tright: toRight\n}\n\nvar VALIGN_FNS = {\n\tstart: toVStart,\n\tend: toVEnd,\n\tcenter: toVCenter,\n\ttop: toTop,\n\tbottom: toBottom\n}\n\nvar HALIGN_FNS = {\n\tstart: toHStart,\n\tend: toHEnd,\n\tcenter: toHCenter,\n\tleft: toLeft,\n\tright: toRight\n}\n\n\n\n/*\n* Get the visible client rect contenttaining the target - relative to viewport\n*/\nfunction getVisibleClientRect(target, overflowingParents) {\n\tvar left=0, top=0, right = window.innerWidth, bottom = window.innerHeight;\n\tif (overflowingParents.length) {\n\t\tfor (var i=0,l=overflowingParents.length; i<l; i++) {\n\t\t\tvar parent = overflowingParents[i];\n\t\t\t// TODO bounding client rect includes the border -> use clientRect to remove border?\n\t\t\tvar prect = parent.getBoundingClientRect();\n\t\t\tif (prect.left > left) left = prect.left;\n\t\t\tif (prect.right < right) right = prect.right;\n\t\t\tif (prect.top > top) top = prect.top;\n\t\t\tif (prect.bottom < bottom) bottom = prect.bottom;\n\t\t}\n\t}\n\treturn {\n\t\tleft: left, top: top,\n\t\tright: right, bottom: bottom,\n\t\twidth: right-left, height: bottom-top\n\t};\n}\n\nfunction createPopup(content) {\n\tvar el = document.createElement('DIV');\n\tel.className = 'qute-popup';\n\tvar style = el.style;\n\tstyle.visibility = 'hidden';\n\tstyle.position = 'absolute';\n\tstyle.overflow = 'hidden'; // needed by some effects (e.g. slide in)\n\n\tvar contentEl = document.createElement('DIV');\n\tcontentEl.className = 'qute-popup-content';\n\tcontentEl.style.position = 'relative';\n\tel.appendChild(contentEl);\n\n\tif (content.jquery) {\n\t\tcontentEl.appendChild(content[0]);\n\t} else if (typeof content === 'string') {\n\t\tcontentEl.innerHTML = content;\n\t} else if (Array.isArray(content)) {\n\t\tfor (var i=0, l=content.length; i<l; i++) {\n\t\t\tcontentEl.appendChild(content[i]);\n\t\t}\n\t} else { // assume a element\n\t\tcontentEl.appendChild(content);\n\t}\n\treturn el;\n}\n/*\n * options: closeOnClick, position, align\n */\nfunction Popup(content) {\n\tthis.el = createPopup(content);\n\tthis.pos = 'bottom';\n\tthis.align = 'start';\n\tthis.closeOnClickOpt = true;\n\tthis.effectName = null;\n}\nPopup.prototype = {\n\tupdate: function(anchor) {\n\t\tif (anchor.jquery) anchor = anchor[0];\n\t\tvar crect = getVisibleClientRect(anchor, this.ofs);\n\t\tvar rect = anchor.getBoundingClientRect();\n\t\t// if anchor is not hidden by the overflow then hide the popup\n\t\tif (rect.top >= crect.bottom || rect.bottom <= crect.top\n\t\t\t|| rect.left >= crect.right || rect.right <= crect.left) {\n\t\t\tthis.el.style.visibility = 'hidden';\n\t\t\treturn;\n\t\t}\n\n\t\tvar style = this.el.style;\n\t\t// first check for special modifier 'fill' (before getting the boundingclient rect since setting the height/width will modify the rect)\n\t\tvar align = this.align;\n\t\tif (align === 'fill') {\n\t\t\tif (this.pos ===  'bottom' || this.pos === 'top') {\n\t\t\t\tstyle.width = anchor.offsetWidth+'px';\n\t\t\t} else {\n\t\t\t\tstyle.height = anchor.offsetHeight+'px';\n\t\t\t}\n\t\t\talign = 'start';\n\t\t} else {\n\t\t\tstyle.width && (style.width = '');\n\t\t\tstyle.height && (style.height = '');\n\t\t}\n\n\n\t\tvar erect = this.el.getBoundingClientRect(); // we only need width and height\n\t\tvar out = {};\n\n\t\tvar posFn = POS_FNS[this.pos];\n\t\tif (!posFn) throw new Error('Invalid position argument: '+this.pos+'. Expecting: top|bottom|left|right');\n\t\tposFn(erect, rect, crect, out);\n\n\t\tvar ALIGN_FNS = out.top == null ? VALIGN_FNS : HALIGN_FNS;\n\t\tvar alignFn = ALIGN_FNS[align];\n\t\tif (!alignFn) throw new Error('Invalid vert align argument: '+align+'. Expecting: '+Object.keys(ALIGN_FNS).join('|'));\n\t\talignFn(erect, rect, crect, out);\n\n\t\t//var className = out.position+' '+out.align;\n\t\t//if (this.className) className = this.className + ' ' + className;\n\t\t//this.el.className = this.c\n\n\n\t\tstyle.left = (out.left + window.pageXOffset)+'px';\n\t\tstyle.top = (out.top + window.pageYOffset)+'px';\n\t\tstyle.visibility = 'visible';\n\n\t\treturn this;\n\t},\n\topen: function(anchor) {\n\t\t// compute overflowing parents and register scroll listeners\n\t\tif (this.el.parentNode) { // already opened\n\t\t\treturn;\n\t\t}\n\t\tvar updating = false, self = this;\n\t\tvar updateFn = function() {\n\t\t\tif (!updating) {\n\t\t\t\twindow.requestAnimationFrame(function() {\n\t\t\t\t\tself.update(anchor);\n\t\t\t\t\tupdating = false;\n\t\t\t\t});\n\t\t\t\tupdating = true;\n\t\t\t}\n\t\t}\n\t\tvar ofs = [],\n\t\t\tbody = document.body,\n\t\t\tparent = anchor.parentNode;\n\t\twhile (parent && parent !== body) {\n\t\t\tif (parent.scrollHeight > parent.clientHeight || parent.scrollWidth > parent.clientWidth) {\n\t\t\t\tofs.push(parent);\n\t\t\t\tparent.addEventListener('scroll', updateFn);\n\t\t\t}\n\t\t\tparent = parent.parentNode;\n\t\t}\n\t\twindow.addEventListener('scroll', updateFn);\n\t\twindow.addEventListener('resize', updateFn);\n\t\t// TODO add resize listener\n\n\t\tthis.ofs = ofs;\n\t\t// add close on click listener\n\t\tvar closeOnClick;\n\t\tif (this.closeOnClickOpt) {\n\t\t\tcloseOnClick = function(e) {\n\t\t\t\tif (!self.el.contains(e.target)) {\n\t\t\t\t\tself.close();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tdocument.addEventListener('click', closeOnClick);\n\t\t\t}, 0);\n\t\t}\n\n\n\t\tthis.cleanup = function() {\n\t\t\tif (closeOnClick) {\n\t\t\t\tdocument.removeEventListener('click', closeOnClick);\n\t\t\t}\n\t\t\twindow.removeEventListener('resize', updateFn);\n\t\t\twindow.removeEventListener('scroll', updateFn);\n\t\t\tfor (var i=0,l=ofs.length; i<l; i++) {\n\t\t\t\tofs[i].removeEventListener('scroll', updateFn);\n\t\t\t}\n\t\t}\n\n\t\tthis.onOpen && this.onOpen(this);\n\t\t// mount the popup\n\t\tdocument.body.appendChild(this.el);\n\t\t// show it\n\t\tthis.update(anchor);\n\t\tthis.el.classList.add('qute-show');\n\t},\n\tclose: function() {\n\t\tthis.onClose && this.onClose(this);\n\t\tthis.cleanup();\n\t\tvar el = this.el;\n\t\tel.classList.remove('qute-show');\n\t\tif (this.effectName) {\n\t\t\tvar fn = function() {\n\t\t\t\tel.style.visibility = 'hidden';\n\t\t\t\tel.parentNode && el.parentNode.removeChild(el);\n\t\t\t\tel.removeEventListener('transitionend', fn);\n\t\t\t}\n\t\t\tel.addEventListener('transitionend', fn);\n\t\t} else {\n\t\t\tel.style.visibility = 'hidden';\n\t\t\tel.parentNode.removeChild(el);\n\t\t}\n\t},\n\tposition: function(position, align) {\n\t\tif (align === undefined) {\n\t\t\tposition = position.trim();\n\t\t\tvar i = position.indexOf(' ');\n\t\t\tif (i > -1) {\n\t\t\t\talign = position.substring(i+1).trim();\n\t\t\t\tposition = position.substring(0, i);\n\t\t\t}\n\t\t}\n\t\tthis.pos = position;\n\t\tif (align) this.align = align;\n\t\treturn this;\n\t},\n\tcloseOnClick: function(closeOnClick) {\n\t\tthis.closeOnClickOpt = closeOnClick;\n\t\treturn this;\n\t},\n\teffect: function(effect) {\n\t\tthis.effectName = effect;\n\t\tthis.el.className = effect ? 'qute-popup qute-effect-'+effect : 'qute-popup';\n\t\treturn this;\n\t}\n}\n\nexport default Popup;\n","import Qute from '@qutejs/runtime';\nimport Popup from './popup.js';\nimport css from './popup.css';\n\nQute.css(css);\n\n/*\nAttributes:\n\n- animation: optional: is set can be one of fade or slidde\n- position is a string in the form of \"position algin\" where\n\tposition is one of: top, bottom, left, right\n\tand align is one of: start, end, center, fill, top, bottom, left, right\n\n\tleft and right align are only valid for vertical positions.\n\ttop and bottom align are ony valid for horizontal positions\n\n- auto-close: boolean - toggle close on click. Defaults to true\n\nThe defaults are: animation: null, position: \"bottom start\", auto-close: true\n*/\nexport default Qute('popup', {\n\tinit() {\n\t\treturn {\n\t\t\tposition: 'bottom start',\n\t\t\tanimation: null,\n\t\t\tautoClose: true\n\t\t}\n\t},\n\trender: function() {\n\t\treturn document.createComment('[popup]');\n\t},\n\tcreated: function() {\n\t\tvar slots = this.$slots;\n\t\tif (!slots || !slots.default) throw new Error('<popup> requires a content!');\n\t\tthis.popup = new Popup(slots.default).effect(this.animation).position(this.position).closeOnClick(this.autoClose);\n\t\tvar self = this;\n\t\tthis.popup.onOpen = function() {\n\t\t\tself.emit(\"open\", self.popup.el);\n\t\t}\n\t\tthis.popup.onClose = function() {\n\t\t\tself.emit(\"close\", self.popup.el);\n\t\t}\n\t},\n\topen: function(target) {\n\t\tthis.popup.open(target);\n\t},\n\tclose: function() {\n\t\tthis.popup.close();\n\t}\n}).channel(function(msg, data) {\n\tif (msg === 'open') {\n\t\tthis.open(data);\n\t} else if (msg === 'close') {\n\t\tthis.close();\n\t}\n}).watch('position', function(value) {\n\tthis.popup.position(value);\n\treturn false;\n}).watch('animation', function(value) {\n\tthis.popup.effect(value);\n\treturn false;\n}).watch('autoClose', function(value) {\n\tthis.popup.closeOnClick(!!value);\n\treturn false;\n});\n"],"names":["window","document"],"mappings":"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"}