{"version":3,"file":"qutejs-router-0.9.3.js","sources":["../../plugins/router/src/location-bar.js","../../plugins/router/src/utils.js","../../plugins/router/src/path-mapping.js","../../plugins/router/src/router.js","../../plugins/router/src/index.js"],"sourcesContent":["import window, {document} from '@qutejs/window';\n\n/*\n* Extracted from Backbone.js History 1.1.0\n*/\n\n//helper functions\nvar objectAssign = Object.assign ? Object.assign : function extend(obj, source) {\n  for (var prop in source) {\n    obj[prop] = source[prop];\n  }\n  return obj;\n}\nfunction on(obj, type, fn) {\n  if (obj.attachEvent) {\n    obj['e'+type+fn] = fn;\n    obj[type+fn] = function(){ obj['e'+type+fn]( window.event ); };\n    obj.attachEvent( 'on'+type, obj[type+fn] );\n  } else {\n    obj.addEventListener( type, fn, false );\n  }\n}\nfunction off(obj, type, fn) {\n  if (obj.detachEvent) {\n    obj.detachEvent('on'+type, obj[type+fn]);\n    obj[type+fn] = null;\n  } else {\n    obj.removeEventListener(type, fn, false);\n  }\n}\n\n// handlers were removed - we simply use listeners without regex matching\n//\n// Backbone.History\n// ----------------\n\n// Handles cross-browser history management, based on either\n// [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n// [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n// and URL fragments.\nvar History = function() {\n  this.listeners = [];\n\n  var self = this;\n  var checkUrl = this.checkUrl;\n  this.checkUrl = function () {\n    checkUrl.apply(self, arguments);\n  };\n\n  // Ensure that `History` can be used outside of the browser.\n  if (typeof window !== 'undefined') {\n    this.location = window.location;\n    this.history = window.history;\n  }\n};\n\n// Cached regex for stripping a leading hash/slash and trailing space.\nvar routeStripper = /^[#\\/]|\\s+$/g;\n\n// Cached regex for stripping leading and trailing slashes.\nvar rootStripper = /^\\/+|\\/+$/g;\n\n// Cached regex for removing a trailing slash.\nvar trailingSlash = /\\/$/;\n\n// Cached regex for stripping urls of hash.\nvar pathStripper = /#.*$/;\n\n// MODIFICATION OF ORIGINAL BACKBONE.HISTORY\n// Has the history handling already been started?\n// History.started = false;\n\n// Set up all inheritable **Backbone.History** properties and methods.\nobjectAssign(History.prototype, {\n\n  // Are we at the app root?\n  atRoot: function() {\n    return this.location.pathname.replace(/[^\\/]$/, '$&/') === this.root;\n  },\n\n  // Gets the true hash value. Cannot use location.hash directly due to bug\n  // in Firefox where location.hash will always be decoded.\n  getHash: function(window) {\n    var match = (window || this).location.href.match(/#(.*)$/);\n    return match ? match[1] : '';\n  },\n\n  // Get the cross-browser normalized URL fragment, either from the URL,\n  // the hash, or the override.\n  getFragment: function(fragment, forcePushState) {\n    if (fragment == null) {\n      if (this._hasPushState || !this._wantsHashChange || forcePushState) {\n        fragment = decodeURI(this.location.pathname + this.location.search);\n        var root = this.root.replace(trailingSlash, '');\n        if (!fragment.indexOf(root)) fragment = fragment.slice(root.length);\n      } else {\n        fragment = this.getHash();\n      }\n    }\n    return fragment.replace(routeStripper, '');\n  },\n\n  // Start the hash change handling, returning `true` if the current URL matches\n  // an existing route, and `false` otherwise.\n  start: function(options) {\n    // MODIFICATION OF ORIGINAL BACKBONE.HISTORY\n    // if (History.started) throw new Error(\"LocationBar has already been started\");\n    // History.started = true;\n    this.started = true;\n\n    // Figure out the initial configuration.\n    // Is pushState desired ... is it available?\n    this.options          = objectAssign({root: '/'}, options);\n    this.location         = this.options.location || this.location;\n    this.history          = this.options.history || this.history;\n    this.root             = this.options.root;\n    this._wantsHashChange = this.options.hashChange !== false;\n    this._wantsPushState  = !!this.options.pushState;\n    this._hasPushState    = !!(this.options.pushState && this.history && this.history.pushState);\n    var fragment          = this.getFragment();\n\n    // Normalize root to always include a leading and trailing slash.\n    this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n\n    // Depending on whether we're using pushState or hashes, and whether\n    // 'onhashchange' is supported, determine how we check the URL state.\n    if (this._hasPushState) {\n      on(window, 'popstate', this.checkUrl);\n    } else {\n      on(window, 'hashchange', this.checkUrl);\n    }\n\n    // Determine if we need to change the base url, for a pushState link\n    // opened by a non-pushState browser.\n    this.fragment = fragment;\n    var loc = this.location;\n\n    // Transition from hashChange to pushState or vice versa if both are\n    // requested.\n    if (this._wantsHashChange && this._wantsPushState) {\n\n      // If we've started off with a route from a `pushState`-enabled\n      // browser, but we're currently in a browser that doesn't support it...\n      if (!this._hasPushState && !this.atRoot()) {\n        this.fragment = this.getFragment(null, true);\n        this.location.replace(this.root + '#' + this.fragment);\n        // Return immediately as browser will do redirect to new url\n        return true;\n\n      // Or if we've started out with a hash-based route, but we're currently\n      // in a browser where it could be `pushState`-based instead...\n      } else if (this._hasPushState && this.atRoot() && loc.hash) {\n        this.fragment = this.getHash().replace(routeStripper, '');\n        this.history.replaceState({}, document.title, this.root + this.fragment);\n      }\n\n    }\n\n    if (!this.options.silent) return this.loadUrl();\n  },\n\n  // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n  // but possibly useful for unit testing Routers.\n  stop: function() {\n    off(window, 'popstate', this.checkUrl);\n    off(window, 'hashchange', this.checkUrl);\n    this.started = false;\n  },\n\n\n  // Checks the current URL to see if it has changed, and if it has,\n  // calls `loadUrl`.\n  checkUrl: function() {\n    var current = this.getFragment();\n    if (current === this.fragment) return false;\n    this.loadUrl();\n  },\n\n  // Attempt to load the current URL fragment. If a route succeeds with a\n  // match, returns `true`. If no defined routes matches the fragment,\n  // returns `false`.\n  loadUrl: function(fragment) {\n    fragment = this.fragment = this.getFragment(fragment);\n    var listeners = this.listeners;\n    for (var i=0,l=listeners.length; i<l; i++) {\n      listeners[i](fragment);\n    }\n  },\n\n  // Save a fragment into the hash history, or replace the URL state if the\n  // 'replace' option is passed. You are responsible for properly URL-encoding\n  // the fragment in advance.\n  //\n  // The options object can contain `trigger: true` if you wish to have the\n  // route callback be fired (not usually desirable), or `replace: true`, if\n  // you wish to modify the current URL without adding an entry to the history.\n  navigate: function(fragment, options) {\n    if (!this.started) return false;\n    if (!options || options === true) options = {trigger: !!options};\n\n    var url = this.root + (fragment = this.getFragment(fragment || ''));\n\n    // Strip the hash for matching.\n    fragment = fragment.replace(pathStripper, '');\n\n    if (this.fragment === fragment) return;\n    this.fragment = fragment;\n\n    // Don't include a trailing slash on the root.\n    if (fragment === '' && url !== '/') url = url.slice(0, -1);\n\n    // If pushState is available, we use it to set the fragment as a real URL.\n    if (this._hasPushState) {\n      this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n\n    // If hash changes haven't been explicitly disabled, update the hash\n    // fragment to store history.\n    } else if (this._wantsHashChange) {\n      this._updateHash(this.location, fragment, options.replace);\n    // If you've told us that you explicitly don't want fallback hashchange-\n    // based history, then `navigate` becomes a page refresh.\n    } else {\n      return this.location.assign(url);\n    }\n    if (options.trigger) return this.loadUrl(fragment);\n  },\n\n  // Update the hash location, either replacing the current entry, or adding\n  // a new one to the browser history.\n  _updateHash: function(location, fragment, replace) {\n    if (replace) {\n      var href = location.href.replace(/(javascript:|#).*$/, '');\n      location.replace(href + '#' + fragment);\n    } else {\n      // Some browsers require that `hash` contains a leading #.\n      location.hash = '#' + fragment;\n    }\n  }\n\n});\n\n\n\n// add some features to History\n\n// a more intuitive alias for navigate\nHistory.prototype.update = function () {\n  this.navigate.apply(this, arguments);\n};\n\n// a generic callback for any changes\nHistory.prototype.onChange = function (callback) {\n  this.listeners.push(callback);\n};\n\n// checks if the browser has pushstate support\nHistory.prototype.hasPushState = function () {\n  // MODIFICATION OF ORIGINAL BACKBONE.HISTORY\n  if (!this.started) {\n    throw new Error(\"only available after LocationBar.start()\");\n  }\n  return this._hasPushState;\n};\n\nexport default History;\n\n","\nvar VARS_RX = /\\$\\{([a-zA-Z_$][a-zA-Z_0-9$]*)\\}/g;\n\nfunction expandVars(text, vars) {\n\treturn text.replace(VARS_RX, function(m, p1) {\n\t\tvar val = vars[p1];\n\t\treturn val === undefined ? m : String(val);\n\t})\n}\n\nfunction absPath(path) {\n\treturn path.charCodeAt(0) !== 47 ? '/'+path : path;\n}\n\nexport { absPath, expandVars };\n","import {absPath} from \"./utils.js\";\n\n\nvar VARS_RX = /<([^>:]*)(?:\\:([^>]*))?>/;\n\nfunction RxMatcher(rx, vars) {\n\treturn function(segment, params) {\n\t\tvar m = rx.exec(segment);\n\t\tif (m) {\n\t\t\tfor (var i=1, l=m.length; i<l; i++) {\n\t\t\t\tvar v = vars[i-1];\n\t\t\t\tif (v) {\n\t\t\t\t\tvar param = m[i];\n\t\t\t\t\tif (param) {\n\t\t\t\t\t\tif (v.mod) { // remove leading / if any\n\t\t\t\t\t\t\tif (param.charCodeAt(0) === 47) {\n\t\t\t\t\t\t\t\tparam = param.substring(1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparams[v.name] = param;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n}\n\nfunction TextMatcher(text) {\n\treturn function(segment, params) {\n\t\treturn segment === text;\n\t}\n}\n\nfunction ANY() { return true; }\nANY.$vars = 100000; // should be the last when sorting\n\nfunction PathBinding(pattern, value) {\n\n\tfunction isModifier(path, index) {\n\t\tif (path.length === index+1 || path.charCodeAt(index+1) === 47) { // next is / or end of path\n\t\t\tswitch (path.charCodeAt(index)) {\n\t\t\t\tcase 63: return 1; // ?\n\t\t\t\tcase 42: return 2; // *\n\t\t\t\tcase 43: return 3; // +\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t}\n\n\tfunction compilePath(path) {\n\t\tif (path === '/*') return ANY;\n\t\tvar i = path.indexOf('<');\n\t\tif (i === -1) return TextMatcher(path);\n\n\t\tvar m = VARS_RX.exec(path);\n\n\t\tif (!m) return TextMatcher(path);\n\n\t\tvar out = '', vars = [];\n\t\twhile (m) {\n\t\t\tvar prefix = m.index > 0 ? path.substring(0, m.index).replace(/\\.\\(\\)\\$\\^\\[\\]\\?\\*\\+/g, '\\\\$1') : null;\n\t\t\tvar nextIndex = m.index+m[0].length, rx = m[2] || '[^/]+';\n\t\t\tvar nextCh = path.charCodeAt(nextIndex);\n\t\t\tvar mod = isModifier(path, nextIndex);\n\t\t\t// if next chars are +/, */, ?/ or +, *, ?\n\t\t\tif (mod) { // ?+* modifier is present\n\t\t\t\tif (prefix && prefix.charCodeAt(prefix.length-1) === 47) {\n\t\t\t\t\t// remove trailing / since it will be included in the rx\n\t\t\t\t\tprefix = prefix.substring(0, prefix.length-1);\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error('Modifier +, * and ? can be used only on named path segments: '+path);\n\t\t\t\t}\n\t\t\t\t// remove modifier char from path\n\t\t\t\tnextIndex++;\n\t\t\t\tif (mod === 1) {\n\t\t\t\t\trx = '((?:/'+rx+')?)';\n\t\t\t\t} else if (mod === 2) {\n\t\t\t\t\trx = '((?:/'+rx+')*)';\n\t\t\t\t} else if (mod === 3) {\n\t\t\t\t\trx = '((?:/'+rx+')+)';\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\trx = '('+rx+')';\n\t\t\t}\n\t\t\tvars.push({name: m[1].trim(), mod: mod});\n\t\t\tout += prefix ? prefix+rx : rx;\n\t\t\tpath = path.substring(nextIndex);\n\t\t\tm = VARS_RX.exec(path);\n\t\t}\n\t\tif (path.length) {\n\t\t\tout += path.replace(/\\.\\(\\)\\$\\^\\[\\]\\?\\*\\+/g, '\\\\$1');\n\t\t}\n\t\tvar matcher = RxMatcher(new RegExp(out), vars);\n\t\tmatcher.$vars = vars.length;\n\t\treturn matcher;\n\t}\n\n\tthis.pattern = absPath(pattern);\n\tthis.match = compilePath(this.pattern);\n\tthis.vars = this.match.$vars || 0; // how many vars in pattern\n\tthis.value = value;\n}\n\nfunction PathMapping(bindings) {\n\tthis.bindings = [];\n\tbindings && this.map(bindings);\n}\n\nPathMapping.prototype = {\n\tadd: function(path, value) {\n\t\tthis.bindings.push(new PathBinding(path, value));\n\t},\n\tmap: function(bindings) {\n\t\tif (bindings) {\n\t\t\tvar self = this;\n\t\t\tObject.keys(bindings).forEach(function(key) {\n\t\t\t\tself.add(key, bindings[key]);\n\t\t\t});\n\t\t\t// sort bindings\n\t\t\tthis.sort();\n\t\t}\n\t},\n\tsort: function() {\n\t\tthis.bindings.sort(function(a, b) {\n\t\t\tvar r = a.vars - b.vars;\n\t\t\treturn r ? r : b.pattern.localeCompare(a.pattern);\n\t\t});\n\t},\n\tget: function(path) {\n\t\tpath = absPath(path);\n\t\tvar params = {};\n\t\tvar bindings = this.bindings;\n\t\tfor (var i=0,l=bindings.length; i<l; i++) {\n\t\t\tvar binding = bindings[i];\n\t\t\tif (binding.match(path, params)) {\n\t\t\t\treturn [binding.value, params];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n}\n\nexport default PathMapping;\n\n\n","import window from '@qutejs/window';\n\nimport LocationBar from \"./location-bar.js\";\nimport PathMapping from \"./path-mapping.js\";\nimport {absPath, expandVars} from \"./utils.js\";\n\nfunction detectCycles(redirects, from) {\n\tvar visited = {};\n\tvisited[from] = true;\n\tvar to = redirects[from];\n\twhile (to) {\n\t\tif (visited[to]) throw new Error('Found a redirection cycle: ['+from+\"] -> [\"+to+\"]\");\n\t\tvisited[to] = true;\n\t\tto = redirects[to];\n\t}\n}\n\nfunction Router(bindings) {\n\n\tthis.navigo = new LocationBar();\n\tthis.routes = new PathMapping();\n\tthis.redirects = {};\n\n\tbindings && this.map(bindings);\n}\n\nRouter.prototype = {\n\thandlerFromString: function(to) {\n\t\treturn null;\n\t},\n\tcreateRedirect: function(path, to) {\n\t\tto = absPath(to);\n\t\tthis.redirects[path] = to;\n\t\tdetectCycles(this.redirects);\n\t\tvar self = this;\n\t\treturn function(path, params) {\n\t\t\tself.navigate(expandVars(to, params), true); // replace the existing entry\n\t\t}\n\t},\n\tmap: function(bindings) {\n\t\tif (bindings) {\n\t\t\tvar self = this;\n\t\t\tObject.keys(bindings).forEach(function(key) {\n\t\t\t\tself.add(key, bindings[key]);\n\t\t\t});\n\t\t}\n\t\treturn this;\n\t},\n\tadd: function(path, to) {\n\t\tpath = absPath(path);\n\t\tvar handler = null;\n\t\tif (typeof to === 'string') {\n\t\t\tvar self = this;\n\t\t\thandler = this.handlerFromString(path, to);\n\t\t\tif (!handler) { // a redirect?\n\t\t\t\thandler = this.createRedirect(path, to);\n\t\t\t}\n\t\t}\n\t\tif (!handler) {\n\t\t\thandler = to;\n\t\t}\n\t\tthis.routes.add(path, handler);\n\t\treturn this;\n\t},\n\tstart: function(settings) {\n\t\tif (!this.routes.bindings.length) throw new Error('No routes set!');\n\t\tthis.routes.sort();\n\n\t\tvar self = this;\n\t\tthis.navigo.onChange(function(path) {\n\t\t\tvar r = self.routes.get(path);\n\t\t\tif (r) {\n\t\t\t\tr[0](path, r[1]);\n\t\t\t} else {\n\t\t\t\tthrow new Error('No route found for \"'+path+'\"');\n\t\t\t}\n\t\t});\n\t\tvar loadCb = function() {\n\t\t\tself.navigo.start(settings);\n\t\t\twindow.removeEventListener('load', loadCb);\n\t\t};\n\t\twindow.addEventListener('load', loadCb);\n\t\treturn this;\n\t},\n\tstop: function() {\n\t\tthis.navigo.stop();\n\t},\n\tnavigate: function(path, replace) {\n\t\tpath = absPath(path);\n\t\tif (!this.navigo.hasPushState()) {\n\t\t\tpath = '#'+path;\n\t\t}\n\t\tthis.navigo.navigate(path, replace ? {replace:true} : undefined);\n\t},\n\troute: function(path, replace) { // an alias to navigate\n\t\tthis.navigate(path, replace);\n\t},\n\tonChange: function(callback) {\n\t\tthis.navigo.onChange(function(path) {\n\t\t\tcallback(absPath(path));\n\t\t});\n\t},\n\tpath: function() {\n\t\treturn absPath(this.navigo.getFragment());\n\t}\n}\n\nexport default Router;\n","import Qute from '@qutejs/runtime';\nimport Router from './router.js';\n\nfunction QuteRouter(bindings, quteCtx) {\n\tRouter.call(this, bindings);\n\tthis.ctx = null;\n\tquteCtx && this.install(quteCtx);\n}\n\nvar QuteRouterProto = Object.create(Router.prototype);\nQuteRouterProto.handlerFromString = function(path, to) {\n\tif (to.substring(0, 5) === 'post:') {\n\t\tif (!this.ctx) throw new Error('Using \"post:\" protocol without a Qute context!');\n\t\tvar target = to.substring(5);\n\t\tvar i = target.indexOf('/');\n\t\tif (i === -1) throw new Error('Invalid message post target. Expecting \"post:channel/message-name\" but got '+to);\n\t\tvar msg = target.substring(i+1);\n\t\tvar channel = target.substring(0,  i);\n\t\tvar ctx = this.ctx;\n\t\treturn function(path, params) {\n\t\t\tctx.postAsync(expandVars(channel, params), expandVars(msg, params), params);\n\t\t}\n\t}\n\treturn null;\n};\nQuteRouterProto.install = function(ctx) {\n\tif (this.ctx) throw new Error('Qute Router already installed!');\n\tif (ctx.$ctx) ctx = ctx.$ctx; // accept Qute components too.\n\tthis.ctx = ctx;\n\tctx.router = this;\n\tctx.subscribe('route', function(msg, data) {\n\t\t// data can be 'true' to replace the current entry in history\n\t\tctx.router.navigate(msg, data);\n\t});\n\treturn this;\n};\n\nQuteRouter.prototype = QuteRouterProto;\n\nQute.Router = QuteRouter;\n\nexport default QuteRouter;\n"],"names":["window","document","expandVars","VARS_RX","LocationBar"],"mappings":"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"}