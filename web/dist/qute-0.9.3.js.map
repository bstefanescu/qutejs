{"version":3,"file":"qute-0.9.3.js","sources":["../../core/runtime/src/error.js","../../core/commons/lib/index.esm.js","../../core/runtime/src/utils.js","../../core/runtime/src/update.js","../../core/runtime/src/context.js","../../core/runtime/src/registry.js","../../core/runtime/src/binding.js","../../core/runtime/src/emit.js","../../core/runtime/src/rendering.js","../../core/runtime/src/list.js","../../core/runtime/src/vm.js","../../core/runtime/src/index.js"],"sourcesContent":["\nfunction ERR() {\n\tERR.resolve.apply(null, arguments);\n}\n\nERR.resolve = function() {\n\tthrow new Error('Qute Error: '+Array.prototype.slice.call(arguments));\n}\n\nexport default ERR;\n","var CAMEL_TO_KEBAB_RX = /([\\$A-Za-z0-9])([A-Z])/g;\n\nfunction camelToKebab(value) {\n\treturn value.replace(CAMEL_TO_KEBAB_RX, '$1-$2').toLowerCase();\n}\n\nfunction capitalizeFirst(value) {\n\treturn value[0].toUpperCase()+value.substring(1);\n}\n\nfunction kebabToCamel(value) {\n\tvar i = value.indexOf('-');\n\tif (i == -1) { return value; }\n\tvar out = value.substring(0, i);\n\tvar s = i+1;\n\ti = value.indexOf('-', s);\n\twhile (i > -1) {\n\t\tout += capitalizeFirst(value.substring(s, i));\n\t\ts = i+1;\n\t\ti = value.indexOf('-', s);\n\t}\n\tif (s < value.length) {\n\t\tout += capitalizeFirst(value.substring(s));\n\t}\n\treturn out;\n}\n\nexport { camelToKebab, capitalizeFirst, kebabToCamel };\n//# sourceMappingURL=index.esm.js.map\n","\nimport { kebabToCamel } from '@qutejs/commons';\n\nfunction stopEvent(e) {\n\te.preventDefault();\n\te.stopPropagation();\n}\n\nfunction chainFnAfter(fn, prevFn) {\n\treturn prevFn ? function(arg) {\n\t\tprevFn(arg);\n\t\treturn fn(arg);\n\t} : fn;\n}\n\nfunction closestVM(el) {\n\twhile (el && !el.__qute__) {\n\t\tel = el.parentNode;\n\t}\n\treturn el && el.__qute__;\n}\n\n// filter is a an array whoes first item is true or false. See compiler x-attrs encoding\nfunction filterKeys(obj, filter) {\n\tvar keys = Object.keys(obj);\n\tif (filter) {\n\t\tvar incl = filter[0]; // true: include, false: exclude\n\t\treturn keys.filter(function(key) {\n\t\t\treturn (filter.indexOf(key, 1) > -1) === incl;\n\t\t});\n\t} else {\n\t\treturn keys;\n\t}\n}\n\nexport { stopEvent, chainFnAfter, closestVM, filterKeys, kebabToCamel };\n","import window from '@qutejs/window';\nimport ERR from './error.js';\n\n\nvar UpdateQueue = {\n\tmaxNestedLoops: 50,\n\tqueue: [],\n\tafter: null, // routines to run after the queue is processed\n\tpush: function(op) {\n\t\tif (!this.queue.length) { // schedule\n\t\t\tvar self = this;\n\t\t\twindow.setTimeout(function() {\n\t\t\t\tself.run();\n\t\t\t}, 0);\n\t\t}\n\t\tthis.queue.push(op);\n\t},\n\t// Add a callback to be invoked after the current queue run. If the queue is empty then the callback is immediately run\n\t// As queue tasks may push tasks into the queue, pushing a regular task in the queue after an update does not guarantee\n\t// the task will be run at the end.\n\t// This is usefull to test (to make assertion after all the uopdates where done)\n\t// Usually this method is called after an update\n\trunAfter: function(runAfterCb) {\n\t\tif (!this.queue.length) {\n\t\t\trunAfterCb();\n\t\t} else {\n\t\t\tif (!this.after) this.after = [runAfterCb];\n\t\t\telse this.after.push(runAfterCb);\n\t\t}\n\t},\n\trun: function() {\n\t\tvar queue = this.queue;\n\t\tvar cnt = queue.length;\n\t\tvar max = cnt+this.maxNestedLoops; // allowed iteration to avoid infintite loops\n\t\twhile (queue.length > 0) {\n\t\t\tqueue[0]();\n\t\t\t// remove from queue after execution\n\t\t\tqueue.shift();\n\t\t\tif (++cnt > max) ERR(30);\n\t\t}\n\n\t\t// run the 'after' routines if any\n\t\tif (this.after) {\n\t\t\tvar after = this.after;\n\t\t\tfor (var i=0,l=after.length; i<l; i++) {\n\t\t\t\tafter[i]();\n\t\t\t}\n\t\t\tthis.after = null; // clear the after array\n\t\t}\n\t}\n\n}\n\nexport default UpdateQueue;\n","import window from '@qutejs/window';\nimport ERR from './error.js';\n\nexport default function Context(data) {\n\tif (data) Object.assign(this, data);\n\tthis.$topics = {lifecycle:[]}; // lifecycle is a bultin topic\n}\n\nContext.prototype = {\n\tpost: function(topic, msg, data) {\n\t\tvar listeners = this.$topics[topic];\n\t\tif (!listeners) ERR(38, topic);\n\t\tfor (var i=0,l=listeners.length;i<l;i++) {\n\t\t\tif (listeners[i](msg, data) === false) {\n\t\t\t\tbreak; // stop if one of the listeners returns false\n\t\t\t}\n\t\t}\n\t},\n\tpostAsync: function(topic, msg, data) {\n\t\tvar self = this;\n\t\twindow.setTimeout(function() { self.post(topic, msg, data); }, 0);\n\t},\n\tsubscribe: function(topic, listenerFn) {\n\t\tvar listeners = this.$topics[topic];\n\t\tif (!listeners) {\n\t\t\tthis.$topics[topic] = listeners = [];\n\t\t}\n\t\tlisteners.push(listenerFn);\n\t\treturn this;\n\t},\n\tsubscribeOnce: function(topic, event, listenerFn) {\n\t\tvar self = this;\n\t\tvar onceSubscription = function(msg, data) {\n\t\t\tif (msg === event) {\n\t\t\t\tlistenerFn(msg, data);\n\t\t\t\tself.unsubscribe(topic, onceSubscription);\n\t\t\t}\n\t\t}\n\t\tthis.subscribe(topic, onceSubscription);\n\t\treturn onceSubscription;\n\t},\n\tunsubscribe: function(topic, listenerFn) {\n\t\tvar listeners = this.$topics[topic];\n\t\tif (listeners) {\n\t\t\tvar i = listeners.indexOf(listenerFn);\n\t\t\tif (i > -1) {\n\t\t\t\tlisteners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t},\n\tfreeze: function() {\n\t\tObject.freeze(this);\n\t}\n}\n","\n\nvar VMS = {};\nvar XTAGS = {};\n\nexport function QName(tag) {\n\tvar i = tag.indexOf(':');\n\tif (i > -1) {\n\t\tvar prefix = tag.substring(0, i);\n\t\tthis.prefix = prefix;\n\t\tthis.localName = tag.substring(i+1);\n\t\tthis.name = tag;\n\t\tthis.defaultNs = prefix === 'q';\n\t} else {\n\t\tthis.prefix = 'q';\n\t\tthis.localName = tag;\n\t\tthis.name = 'q:'+tag;\n\t\tthis.defaultNs = true;\n\t}\n}\n\nexport function getTag(tag) {\n\treturn XTAGS[tag];\n}\n\n\nexport function registerTag(tag, templateFn, isCompiled) {\n\tvar qname = new QName(tag);\n\ttemplateFn.$qname = qname;\n\ttemplateFn.$compiled = !!isCompiled;\n\ttemplateFn.$tag = tag;\n\tXTAGS[qname.name] = templateFn;\n\tif (qname.defaultNs) {\n\t\tXTAGS[qname.localName] = templateFn;\n\t}\n\treturn templateFn;\n}\n\nexport function getVM(tag) {\n\treturn VMS[tag];\n}\n\nexport function registerVM(tag, vm) {\n\tvar qname = new QName(tag);\n\tVMS[qname.name] = vm;\n\tif (qname.defaultNs) {\n\t\tVMS[qname.localName] = vm;\n\t}\n\treturn qname;\n}\n\nexport function getVMOrTag(tag) {\n\treturn VMS[tag] || XTAGS[tag];\n}\n\nexport function snapshotRegistry() {\n\treturn {VMS: Object.assign({}, VMS), XTAGS: Object.assign({}, XTAGS)};\n}\n\nexport function restoreRegistry(snapshot) {\n\tVMS = snapshot.VMS;\n\tXTAGS = snapshot.XTAGS;\n}\n","import {stopEvent, filterKeys} from './utils.js';\n\nfunction addClassMap(cl, value) {\n\tvar keys = Object.keys(value);\n\tfor (var i=0,l=keys.length; i<l; i++) {\n\t\tvar key = keys[i];\n\t\tvar val = value[key];\n\t\tif (val) cl.add(key); else cl.remove(key);\n\t}\n}\n\nfunction bindClass(elt, value) {\n\tif (!value) return;\n\tvar cl = elt.classList;\n\tif (Array.isArray(value)) {\n\t\tfor (var i=0,l=value.length; i<l; i++) {\n\t\t\tvar val = value[i];\n\t\t\tif (val) {\n\t\t\t\tif (typeof val === 'string') {\n\t\t\t\t\tcl.add(val);\n\t\t\t\t} else { // an object?\n\t\t\t\t\taddClassMap(cl, val);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else { // an object\n\t\taddClassMap(cl, value);\n\t}\n}\n\nfunction bindStyle(elt, value) {\n\tif (!value) return;\n\tvar style = elt.style;\n\tif (Array.isArray(value)) {\n\t\tfor (var i=0,l=value.length; i<l; i++) {\n\t\t\tObject.assign(style, value[i]);\n\t\t}\n\t} else { // an object\n\t\tObject.assign(style, value);\n\t}\n\n}\n\n// the listeners injected from a vm to a nested functional view\n// must run in parent vm, context not in fucntional view context!\n// This is why we need to use the vm from the closure scope when the listener was created\nexport function createListener(vm, fn) {\n\treturn function(e) {\n\t\tif (fn.call(vm, e) === false) {\n\t\t\tstopEvent(e);\n\t\t}\n\t};\n}\n\nexport function createListeners(vm, $listeners) {\n\tif ($listeners) {\n\t\tfor (var key in $listeners) {\n\t\t\t$listeners[key] = createListener(vm, $listeners[key]);\n\t\t}\n\t}\n\treturn $listeners;\n}\n\nexport function SetText(el, model, expr) {\n\treturn function() {\n\t\tvar val = expr(model);\n\t\tif (val !== el.nodeValue) {\n\t\t\tel.nodeValue = val;\n\t\t}\n\t}\n}\n\nexport function SetAttr(el, model, key, valFn) {\n\treturn function(changedKey) {\n\t\t//if (!changedKey || changedKey === key) {\n\t\t\tvar val = valFn(model);\n\t\t\tif (el.getAttribute(key) !== val) {\n\t\t\t\tif (val == null) {\n\t\t\t\t\tel.removeAttribute(key);\n\t\t\t\t} else {\n\t\t\t\t\tel.setAttribute(key, val);\n\t\t\t\t}\n\t\t\t}\n\t\t//}\n\t}\n}\n\n/*\nexport function SetBindings(el, model, bindFn) {\n\treturn function(changedKey) {\n\t\tvar bindings = bindFn(model);\n\t\tfor (var key in bindings) {\n\t\t\tvar val = bindings[key];\n\t\t\tif (el.getAttribute(key) !== val) {\n\t\t\t\tel.setAttribute(key, val);\n\t\t\t}\n\t\t}\n\t}\n}\n*/\nexport function SetInnerHTML(el, model, valFn) {\n\treturn function() {\n\t\tvar val = valFn(model);\n\t\tif (el.innerHTML !== val) {\n\t\t\tel.innerHTML = val || '';\n\t\t}\n\t}\n}\n\nexport function SetDisplay(el, model, valFn) {\n\treturn function() {\n\t\tvar val = valFn(model);\n\t\tvar display = el.style.display;\n\t\t// backup the current diaply when toggliong OFF to be able to restore if needed\n\t\tif (val) {\n\t\t\tif (display === 'none') {\n\t\t\t\tel.style.display = el.__qute_display || ''; // remove 'none'\n\t\t\t}\n\t\t} else if (display !== 'none') {\n\t\t\tif (el.__qute_display == null) el.__qute_display = display;\n\t\t\tel.style.display = 'none';\n\t\t}\n\t}\n}\n\n\nexport function SetToggle(el, model, valFn) {\n\t// valFn returns a map of attr keys to values\n\treturn function() {\n\t\tvar attrs = valFn(model);\n\t\tvar keys = Object.keys(attrs);\n\t\tfor (var i=0,l=keys.length;i<l;i++) {\n\t\t\tvar key = keys[i];\n\t\t\tif (attrs[key]) {\n\t\t\t\tel.setAttribute(key, key);\n\t\t\t} else {\n\t\t\t\tel.removeAttribute(key);\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function SetClass(el, model, valFn) {\n\treturn function() {\n\t\t//TODO only if modified\n\t\tbindClass(el, valFn(model));\n\t}\n}\n\nexport function SetStyle(el, model, valFn) {\n\treturn function() {\n\t\t//TODO only if modified\n\t\tbindStyle(el, valFn(model));\n\t}\n}\n\nexport function SetProp(vm, model, key, valFn) {\n\treturn function(changedKey) {\n\t\t//if (!changedKey || changedKey === key) {\n\t\t\tvm.$set(key, valFn(model));\n\t\t//}\n\t}\n}\n\nexport function SetDOMAttrs(el, model, filter) {\n\treturn function() {\n\t\tvar $attrs = model.$attrs;\n\t\tif ($attrs) {\n\t\t\tvar keys = filterKeys($attrs, filter);\n\t\t\tfor (var i=0,l=keys.length; i<l; i++) {\n\t\t\t\tvar key = keys[i];\n\t\t\t\tel.setAttribute(key, $attrs[key]);\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function SetFuncAttrs($attrs, vm, filter) { // vm is the parent vm (i.e. current model)\n\treturn function() {\n\t\tvar vmAttrs = vm.$attrs;\n\t\tif (vmAttrs) {\n\t\t\tvar keys = filterKeys(vmAttrs, filter);\n\t\t\tfor (var i=0,l=keys.length; i<l; i++) {\n\t\t\t\tvar key = keys[i];\n\t\t\t\t$attrs[key] = vmAttrs[key];\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function SetFuncAttr($attrs, vm, key, val) { // vm is the parent vm (i.e. current model)\n\treturn function() {\n\t\t$attrs[key] = val(vm);\n\t}\n}\n// TODO set $attrs on VMs\nexport function SetVMAttrs(vm, parentVM, filter) {\n\treturn function() {\n\t\tvar parentAttrs = parentVM.$attrs;\n\t\tif (parentAttrs) {\n\t\t\tvar keys = filterKeys(parentAttrs, filter);\n\t\t\tfor (var i=0,l=keys.length; i<l; i++) {\n\t\t\t\tvar key = keys[i];\n\t\t\t\tvm.$set(key, parentAttrs[key]);\n\t\t\t}\n\t\t}\n\t}\n}\n\n","import window from '@qutejs/window';\nimport ERR from './error.js';\n\n// emitter prototype\nvar Emitter = {\n\temit: function(event, data) {\n\t\tif (!this.$el) ERR(35);\n\t\tthis.$el.dispatchEvent(new window.CustomEvent(event, {bubbles: true, detail: data === undefined ? this : data }));\n\n\t},\n\temitAsync: function(event, data, timeout) {\n\t\tvar self = this;\n\t\twindow.setTimeout(function() { self.emit(event, data); }, timeout || 0);\n\t}\n}\nexport default Emitter;\n","import {document} from '@qutejs/window';\nimport ERR from './error.js';\n\nimport Context from './context.js';\nimport { getVMOrTag, getVM } from './registry.js';\nimport {createListeners, createListener, SetClass, SetStyle, SetDisplay, SetToggle, SetText, SetInnerHTML, SetAttr, SetDOMAttrs, SetFuncAttrs, SetFuncAttr} from './binding.js';\nimport { filterKeys } from './utils.js';\nimport Emitter from './emit.js';\n\nfunction ViewRenderingContext(model, marker, isExpr, changeCb, noCache, xattrs, childrenFn) {\n\n\tvar cache = noCache ? null : {};\n\tvar r = null; // the view rendering context\n\tvar cview = null; // current element\n\treturn function(propKey, initialUpdate) {\n\t\tvar el, viewXTag = isExpr(model);\n\t\tif (viewXTag !== cview) {\n\t\t\tvar parent = marker.parentNode;\n\t\t\tif (r) {\n\t\t\t\tr.$disconnect();\n\t\t\t\tparent.removeChild(marker.previousSibling);\n\t\t\t}\n\t\t\tif (viewXTag) {\n\t\t\t\tr = cache && cache[viewXTag];\n\t\t\t\tif (!r) {\n\t\t\t\t\tr = new Rendering(model);\n\t\t\t\t\tif (cache) cache[viewXTag] = r;\n\t\t\t\t}\n\t\t\t\tel = r.r(viewXTag, xattrs, childrenFn(r));\n\t\t\t\tparent.insertBefore(el, marker);\n\t\t\t\tr.$connect();\n\t\t\t} else {\n\t\t\t\tr = null;\n\t\t\t}\n\n\t\t\tif (changeCb && !initialUpdate) { // avoid calling changeCb the first time the if is rendered\n\t\t\t\tchangeCb.call(model, el && el.__qute__);\n\t\t\t}\n\t\t\tcview = viewXTag;\n\t\t} else if (r) {\n\t\t\t// only update children\n\t\t\tr.$update();\n\t\t}\n\t}\n}\n\nfunction evalIfChain(exprs, model) {\n\tvar i = 0;\n\tfor (var l=exprs.length-1; i<l; i++) {\n\t\tif (exprs[i](model)) return i;\n\t}\n\tvar lastExpr = exprs[i];\n\t// if lastExpr is null is is corresponding to an else statement\n\treturn !lastExpr || lastExpr(model) ? i : -1;\n}\n\n\nfunction IfRenderingContext(model, start, end, exprs, kids, changeCb) {\n\tvar r = null; // the IF / ELSE-IF / ELSE rendering context\n\tvar state = -1; // the current case of IF / ELSE-IF / ELSE as the zero based index of the chain (0 for if, 1 for next else-if, ...)\n\treturn function(propKey, initialUpdate) {\n\t\tvar newState = evalIfChain(exprs, model);\n\t\tif (newState !== state) {\n\t\t\tr && r.$disconnect();\n\t\t\tvar parent = start.parentNode;\n\t\t\t// remove current if branch\n\t\t\twhile (start.nextSibling && start.nextSibling !== end) {\n\t\t\t\tparent.removeChild(start.nextSibling);\n\t\t\t}\n\t\t\tr = new Rendering(model); // create the IF / ELSE rendering context\n\t\t\tstate = newState;\n\t\t\tif (state > -1) {\n\t\t\t\tvar children = kids[state](r);\n\t\t\t\tfor (var i=0,l=children.length; i<l; i++) {\n\t\t\t\t\tparent.insertBefore(children[i], end);\n\t\t\t\t}\n\t\t\t}\n\t\t\tr.$connect();\n\t\t\tif (changeCb && !initialUpdate) { // avoid calling changeCb the first time the if is rendered\n\t\t\t\tchangeCb.call(model, state);\n\t\t\t}\n\t\t} else if (r) {\n\t\t\t// only update children\n\t\t\tr.$update();\n\t\t}\n\t}\n}\n\nfunction ForRenderingContext(model, start, end, listFn, iterationFn) {\n\tvar r = null; // the for rendering context\n\tvar list = null; // the current list\n\treturn function(propKey) {\n\t\tvar newList = listFn(model);\n\t\tif (newList !== list) {\n\t\t\tr && r.$disconnect();\n\t\t\tvar parent = start.parentNode;\n\t\t\t// remove current for content\n\t\t\twhile (start.nextSibling && start.nextSibling !== end) {\n\t\t\t\tparent.removeChild(start.nextSibling);\n\t\t\t}\n\t\t\tr = new Rendering(model); // create the FOR rendering context\n\t\t\tlist = newList;\n\t\t\t// render content\n\t\t\tif (list) {\n\t\t\t\tif (!Array.isArray(list)) {\n\t\t\t\t\t//if (list instanceof List) ERR(25);\n\t\t\t\t\tif (list.$createListFragment) ERR(25);\n\t\t\t\t\tlist = Object.keys(list);\n\t\t\t\t}\n\t\t\t\tif (list.length > 0) {\n\t\t\t\t\tvar l = list.length-1;\n\t\t\t\t\tfor (var i=0; i<l; i++) {\n\t\t\t\t\t\tvar children = iterationFn(list[i], i, true);\n\t\t\t\t\t\tif (children) {\n\t\t\t\t\t\t\tfor (var k=0,ll=children.length; k<ll; k++) {\n\t\t\t\t\t\t\t\tparent.insertBefore(children[k], end);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar children = iterationFn(list[i], i, false);\n\t\t\t\t\tif (children) {\n\t\t\t\t\t\tfor (var i=0,l=children.length; i<l; i++) {\n\t\t\t\t\t\t\tparent.insertBefore(children[i], end);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tr.$connect();\n\t\t} else if (r) {\n\t\t\t// just update children\n\t\t\tr.$update();\n\t\t}\n\t}\n}\n\nfunction isVM(obj) {\n\treturn obj && obj.prototype && obj.prototype.__VM__;\n}\n\nfunction appendChildren(parent, children) {\n\tfor (var i=0, l=children.length; i<l; i++) parent.appendChild(children[i]);\n}\nfunction removeRange(from, to) {\n\tvar parent = from.parentNode;\n\twhile (from.nextSibling && from.nextSibling !== to) {\n\t\tparent.removeChild(from.nextSibling);\n\t}\n}\n\nfunction applyListeners(el, vm, listeners, doNotWrap) {\n\tfor (var key in listeners) {\n\t\tvar fn = listeners[key];\n\t\tif (key === 'create') {\n\t\t\tfn.call(vm, el);\n\t\t} else {\n\t\t\tel.addEventListener(key, doNotWrap ? fn : createListener(vm, fn));\n\t\t}\n\t}\n}\n\nfunction extractSlots(children) {\n\tif (children && children.length) {\n\t\tvar namedSlots = {}, nestedCnt = 0, hasContent = false;\n\t\tfor (var i=0,l=children.length; i<l; i++) {\n\t\t\tvar child = children[i];\n\t\t\tvar nodeType = child.nodeType;\n\t\t\tswitch (nodeType) {\n\t\t\t\tcase 1:\n\t\t\t\t\tif (child.nodeName === 'NESTED') { // select only 'nested' elements\n\t\t\t\t\t\tvar slot = child.getAttribute('name') || 'default';\n\t\t\t\t\t\tvar slotChildren = [];\n\t\t\t\t\t\tvar node = child.firstChild;\n\t\t\t\t\t\twhile (node) {\n\t\t\t\t\t\t\tslotChildren.push(node);\n\t\t\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnamedSlots[slot] = slotChildren;\n\t\t\t\t\t\tnestedCnt++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\thasContent = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 3:\n\t\t\t\t\tif (child.nodeValue.trim()) hasContent = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (nestedCnt) {\n\t\t\treturn namedSlots;\n\t\t} else if (hasContent) { // default slot\n\t\t\tnamedSlots.default = children;\n\t\t\treturn namedSlots;\n\t\t}\n\t}\n\treturn null;\n}\n\n// ==============================================\n\n\nvar RenderingProto = {\n\tx: function(expr) { // expression {{ ... }}\n\t\tvar text = expr(this.vm);\n\t\tvar el = document.createTextNode(text);\n\t\tthis.up(SetText(el, this.vm, expr));\n\t\treturn el;\n\t},\n\tt: function(value) { // text\n\t\treturn document.createTextNode(value);\n\t},\n\tg: function(isFn, xattrs, children) { // dynamic tag using 'is'\n\t\tvar tag = isFn(this.vm);\n\t\tvar XTag = getVMOrTag(tag);\n\t\treturn XTag ? this.v(XTag, xattrs, children) : this.h(tag, xattrs, children);\n\t},\n\th: function(tag, xattrs, children) { // dom node\n\t\tvar el = document.createElement(tag);\n\t\tif (xattrs) {\n\t\t\tvar vm = this.vm;\n\t\t\tfor (var key in xattrs) {\n\t\t\t\tvar up = null;\n\t\t\t\tvar val = xattrs[key];\n\t\t\t\tif (key.charCodeAt(0) === 36) { // $ - extended attribute\n\t\t\t\t\tif (key === '$on') {\n\t\t\t\t\t\tapplyListeners(el, vm, val);\n\t\t\t\t\t} else if (key === '$class') {\n\t\t\t\t\t\tup = SetClass(el, vm, val);\n\t\t\t\t\t} else if (key === '$style') {\n\t\t\t\t\t\tup = SetStyle(el, vm, val);\n\t\t\t\t\t} else if (key === '$show') {\n\t\t\t\t\t\tup = SetDisplay(el, vm, val);\n\t\t\t\t\t} else if (key === '$toggle') {\n\t\t\t\t\t\tup = SetToggle(el, vm, val);\n\t\t\t\t\t} else if (key === '$html') {\n\t\t\t\t\t\tup = SetInnerHTML(el, vm, val);\n\t\t\t\t\t} else if (key === '$attrs') {\n\t\t\t\t\t\tup = SetDOMAttrs(el, vm, val);\n\t\t\t\t\t} else if (key === '$listeners') {\n\t\t\t\t\t\t//TODO filter like for $attrs\n\t\t\t\t\t\t//TODO value must be a function ... and not use directly vm.$listeners\n\t\t\t\t\t\tapplyListeners(el, vm, vm.$listeners, true); // do not wrap listeners fns (already wrapped by the parent context)\n\t\t\t\t\t\t//TODO\n\t\t\t\t\t} else if (key === '$channel') {\n\t\t\t\t\t\tERR(28, tag);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tERR(26, key);\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof val === 'function') { // a dynamic binding\n\t\t\t\t\tup = SetAttr(el, vm, key, val);\n\t\t\t\t} else {\n\t\t\t\t\tel.setAttribute(key, val);\n\t\t\t\t}\n\t\t\t\tif (up) {\n\t\t\t\t\tthis.up(up)(); // push then execute\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (children) appendChildren(el, children);\n\t\treturn el;\n\t},\n\t// element with static children (innerHTML is set from the subtree)\n\thh:function(tag, xattrs, content, type) {\n\t\tvar el = this.h(tag, xattrs);\n\t\tif (type) { // convert can be a function to convert the content before injecting in the dom\n\t\t\tvar converter = Context.Qute.converters[type];\n\t\t\tif (!converter) {\n\t\t\t\tERR(27, type);\n\t\t\t}\n\t\t\tcontent = converter(content, this);\n\t\t}\n\t\tel.innerHTML = content;\n\t\treturn el;\n\t},\n\tr: function(tag, xattrs, children) {\n\t\tvar XTag = getVMOrTag(tag);\n\t\tif (!XTag) ERR(23, tag);\n\t\treturn this._v(XTag, xattrs, extractSlots(children));\n\t},\n\tv: function(XTag, xattrs, children) { // xtag is specified as a func reference. TODO No more used\n\t\treturn this._v(XTag, xattrs, extractSlots(children));\n\t},\n\t// vm component\n\t_v: function(XTag, xattrs, slots) { // a vm component (viewmodel)\n\t\tif (isVM(XTag)) {\n\t\t\tvar vm = new XTag(this.vm.$ctx);\n\t\t\treturn vm.$create(this, xattrs, slots);\n\t\t} else if (XTag.$compiled) { // a compiled template\n\t\t\tvar oldVm = this.vm;\n\t\t\tthis.vm = this.functx(this.vm, xattrs, slots);\n\t\t\tvar el = XTag(this, xattrs, slots); // pass xattrs and slots too?\n\t\t\tthis.vm.$el = el;\n\t\t\t// apply root bindings if any (x-class, x-style or x-show)\n\t\t\tif (this.vm.$bindings) {\n\t\t\t\tvar bindings = this.vm.$bindings;\n\t\t\t\tfor (var i=0,l=bindings.length; i<l; i+=2) {\n\t\t\t\t\tvar up = bindings[i](el, oldVm, bindings[i+1]);\n\t\t\t\t\tthis.up(up)();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.vm.$listeners) applyListeners(el, this.vm, this.vm.$listeners, true);\n\t\t\tthis.vm = oldVm;\n\t\t\treturn el;\n\t\t} else { // a hand written function\n\t\t\treturn XTag(this, xattrs, slots);\n\t\t}\n\t},\n\ts: function(slotName, defaultChildren) {\n\t\tvar vm = this.vm;\n\t\tvar slots = vm.$slots;\n\t\tvar children = slots && slots[slotName || 'default'] || defaultChildren;\n\t\tif (children) {\n\t\t\tvar frag = document.createDocumentFragment();\n\t\t\tappendChildren(frag, children);\n\t\t\treturn frag;\n\t\t}\n\t\treturn document.createComment('[slot/]'); // placeholder\n\t},\n\tw: function(isExpr, changeCb, noCache, xattrs, childrenFn) { // dynamic view\n\t\tvar marker = document.createComment('[view/]');\n\t\tvar frag = document.createDocumentFragment();\n\t\tfrag.appendChild(marker);\n\t\tvar viewFrag = ViewRenderingContext(this.vm, marker, isExpr, changeCb, noCache, xattrs, childrenFn)\n\t\tmarker.__qute__ = viewFrag;\n\t\tviewFrag(null, true);\n\t\tthis.up(viewFrag);\n\t\treturn frag;\n\t},\n\ti: function(ifChain, kidsChain, changeCb) { // if / else-if / else\n\t\t// ifChain is a list of if expression functions corresponding to if / if-else else chain.\n\t\t// When 'else' is present - the last expression corresponding to the else will be null\n\t\t// kidsChain is a list of children functions corresponding to if / else-if / else chain\n\t\t// both lists have the same when length. When only 'if' is present the list is of length 1.\n\t\tvar start = document.createComment('[if]');\n\t\tvar end = document.createComment('[/if]');\n\t\tvar frag = document.createDocumentFragment();\n\t\tfrag.appendChild(start);\n\t\tfrag.appendChild(end);\n\t\tvar ieFrag = IfRenderingContext(this.vm, start, end, ifChain, kidsChain, changeCb);\n\t\tstart.__qute__ = ieFrag;\n\t\tieFrag(null, true);\n\t\tthis.up(ieFrag);\n\t\treturn frag;\n\t},\n\t// dynamic lists - which is tracking changes and update itself\n\tl: function(listFn, iterationFn) {\n\t\tvar list = listFn(this.vm);\n\t\t//if (!list instanceof List)) ERR(24);\n\t\tif (!list.$createListFragment) ERR(24);\n\t\treturn list.$createListFragment(this, iterationFn);\n\t},\n\t// static array variant of lists - this cannot be updated it is rendered once at creation\n\ta: function(listFn, iterationFn) {\n\t\tvar start = document.createComment('[for]');\n\t\tvar end = document.createComment('[/for]');\n\t\tvar frag = document.createDocumentFragment();\n\t\tfrag.appendChild(start);\n\t\tfrag.appendChild(end);\n\t\tvar forFrag = ForRenderingContext(this.vm, start, end, listFn, iterationFn);\n\t\tstart.__qute__ = forFrag;\n\t\tforFrag(null);\n\t\tthis.up(forFrag);\n\t\treturn frag;\n\t},\n\tup: function(fn) { // register a live update function\n\t\tthis.ups.push(fn);\n//\t\tthis.ups[this.ups.length-1].push(fn);\n\t\treturn fn;\n\t},\n\t//======\n\t// eval the value of an xattr given the key - if a fucntion invoke the function within the current context otherwise return the value as is\n\teval: function(xattr) {\n\t\treturn typeof xattr === 'function' ? xattr(this.vm) : xattr;\n\t},\n\n\t// connect all nested  VMs\n\t$connect: function() {\n\t\tif (!this.isc) {\n\t\t\tvar vms = this.vms;\n\t\t\tfor (var i=0,l=vms.length; i<l; i++) vms[i].$connect();\n\t\t\tthis.isc = true;\n\t\t}\n\t\treturn this;\n\t},\n\t// disconnect all nested VMs\n\t$disconnect: function() {\n\t\tif (this.isc) {\n\t\t\tvar vms = this.vms;\n\t\t\tfor (var i=0,l=vms.length; i<l; i++) vms[i].$disconnect();\n\t\t\tthis.isc = false;\n\t\t}\n\t\treturn this;\n\t},\n\t$push: function(r) { // push a sub-renderings\n\t\tthis.vms.push(r);\n\t\tif (this.isc) r.$connect();\n\t},\n\t// refresh the DOM - call all nested update functions\n\t$update: function() {\n\t\tvar model = this.vm, ups = this.ups;\n\t\tfor (var i=0,l=ups.length;i<l;i++) ups[i](model);\n\t\treturn this;\n\t},\n\tfunctx: function(vm, xattrs, slots) { // functional context\n\t\tvar $attrs = {};\n\t\tvar ctx = {\n\t\t\t$parent: vm,\n\t\t\t$attrs: $attrs,\n\t\t\t$listeners: null,\n\t\t\t$slots: slots,\n\t\t\t$el: null,\n\t\t\t$bindings: null,\n\t\t\temit: Emitter.emit,\n\t\t\temitAsync: Emitter.emitAsync\n\t\t}\n\t\tvar bindings = null;\n\n\t\tif (xattrs) {\n\t\t\tfor (var key in xattrs) { // class, style and show, $attrs, $listeners are ignored\n\t\t\t\tvar val = xattrs[key];\n\t\t\t\tif (key.charCodeAt(0) !== 36 || key === '$html') { // $ - extended attribute -> ignore all extended attrs but $html\n\t\t\t\t\tif (typeof val === 'function') {\n\t\t\t\t\t\tthis.up(SetFuncAttr($attrs, vm, key, val))();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$attrs[key] = val;\n\t\t\t\t\t}\n\t\t\t\t\t//setFnContextAttr($attrs, vm, key, val);\n\t\t\t\t} else if (key === '$attrs') {\n\t\t\t\t\tif (vm.$attrs) {\n\t\t\t\t\t\t// inject attributes in functional tags\n\t\t\t\t\t\t// we need to create an update function to reinject attrs when model changes\n\t\t\t\t\t\t// otherwise we loose the reactivity on func tags 'x-attrs' attribute\n\t\t\t\t\t\tthis.up(SetFuncAttrs($attrs, vm, val))();\n\t\t\t\t\t}\n\t\t\t\t} else if (key === '$on') {\n\t\t\t\t\tctx.$listeners = createListeners(vm, val);\n\t\t\t\t} else if (key === '$class') {\n\t\t\t\t\tif (!bindings) bindings = [];\n\t\t\t\t\tbindings.push(SetClass, val);\n\t\t\t\t} else if (key === '$style') {\n\t\t\t\t\tif (!bindings) bindings = [];\n\t\t\t\t\tbindings.push(SetStyle, val);\n\t\t\t\t} else if (key === '$show') {\n\t\t\t\t\tif (!bindings) bindings = [];\n\t\t\t\t\tbindings.push(SetDisplay, val);\n\t\t\t\t} else if (key === '$toggle') {\n\t\t\t\t\tif (!bindings) bindings = [];\n\t\t\t\t\tbindings.push(SetToggle, val);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tctx.$bindings = bindings;\n\t\treturn ctx;\n\t}\n\n}\n\nfunction Rendering(vm) {\n\tthis.vm = vm; // defaults to current vm -> changed by functional views\n\tthis.ups = [];\n\t// vms are usually ViewModels but can be any object providing $connect and $disconnect methods\n\t// if you enrich the vms api you mustr check list.js since it register a ListFragment instance as a vm\n\tthis.vms = [];\n\tthis.isc = false; // is connected?\n}\nRendering.prototype = RenderingProto;\n\nexport default Rendering;\n","import {document} from '@qutejs/window';\nimport ERR from './error.js';\nimport UpdateQueue from './update.js';\nimport Rendering from './rendering.js';\n\nfunction ListFragment(rendering, listFn) {\n\tthis.start = document.createComment('[list]');\n\tthis.end = document.createComment('[/list]');\n\tthis.r = rendering;\n\tthis.listFn = listFn;\n\tthis.length = 0;\n\n\tthis.updateChildren = function(model) {\n\t\tvar first = this.start.nextSibling;\n\t\tif (!first || first === this.end || !first.$up) return;\n\t\tvar n = first, end = this.end;\n\t\twhile (n && n !== end) {\n\t\t\tif (n.$up) {\n\t\t\t\tvar ups = n.$up;\n\t\t\t\tfor (var i=0,l=ups.length;i<l;i++) {\n\t\t\t\t\tups[i](model);\n\t\t\t\t}\n\t\t\t}\n\t\t\tn = n.nextSibling;\n\t\t}\n\t}\n\n\tthis.clear = function() {\n\t\tvar n = this.start;\n\t\tvar end = this.end;\n\t\tvar parent = n.parentNode;\n\t\twhile (n.nextSibling && n.nextSibling !== end) {\n\t\t\tparent.removeChild(n.nextSibling);\n\t\t}\n\t\tif (!n.nextSibling) ERR(10);\n\t\tthis.length = 0;\n\t}\n\n\tthis.get = function(index) {\n\t\tif (index < 0 || index > this.length) {\n\t\t\treturn null;\n\t\t}\n\t\tvar l = this.length, n = null;\n\t\tif (index < l/2) { // from start\n\t\t\tn = this.start.nextSibling;\n\t\t\twhile (index-- > 0) n = n.nextSibling;\n\t\t} else { // from end\n\t\t\tindex = l - index - 1;\n\t\t\tn = this.end.previousSibling;\n\t\t\twhile (index-- > 0) n = n.previousSibling;\n\t\t}\n\t\treturn n;\n\t}\n\n\tthis.getInsertion = function(index) {\n\t\tif (index < 0 || index > this.length) ERR(11, index, length);\n\t\tif (index === 0) {\n\t\t\treturn this.start.nextSibling;\n\t\t}\n\t\tif (index === this.length) {\n\t\t\treturn this.end;\n\t\t}\n\t\treturn this.get(index);\n\t}\n\n\tthis.createItem = function(r, item, index, hasNext) {\n\t\treturn listFn(r, item, index, hasNext);\n\t}\n\n\tthis.insert = function(data, from, count) {\n\t\tif (!from) from = 0; // if undefined null or 0\n\t\tif (!count) count = data.length - from; // if undefined null or 0\n\t\tif (count < 1) return;\n\t\tvar l = from+count;\n\t\tvar listFn = this.listFn;\n\t\tvar r = this.r;\n\t\tvar node = this.getInsertion(from);\n\t\tif (!node) ERR(12, index, this.length);\n\t\t//TODO redraw if list fragment is broken insted of throwing an error?\n\t\tvar childR, vm = r.vm, parent = node.parentNode;\n\t\tvar ll = l-1;\n\t\tfor (var i=from; i<ll; i++) {\n\t\t\t// we need to wrapp each child in a rendering ctx to be able to disconnect when items are removed\n\t\t\tchildR = new Rendering(vm);\n\t\t\tvar child = this.createItem(childR, data[i], i, true);\n\t\t\tif (child) {\n\t\t\t\tparent.insertBefore(child, node);\n\t\t\t\tr.$push(childR);\n\t\t\t\tchild.__qute_ctx__ = childR;\n\t\t\t}\n\t\t}\n\t\tchildR = new Rendering(vm);\n\t\tvar child = this.createItem(childR, data[ll], ll, l<data.length);\n\t\tif (child) {\n\t\t\tparent.insertBefore(child, node);\n\t\t\tr.$push(childR);\n\t\t\tchild.__qute_ctx__ = childR;\n\t\t}\n\t\tthis.length = data.length;\n\t}\n\n\tthis.remove = function(from, count) {\n\t\tif (from + count > this.length) {\n\t\t\t// TODO enable only if debug mode\n\t\t\t//throw new Error('Removed range exceed the list length: '+from+'#'+count+'. Length is '+this.length);\n\t\t\treturn;\n\t\t}\n\t\tvar node = this.get(from);\n\t\tif (!node) ERR(13, from, this.length);\n\t\tvar i=0, parent = this.start.parentNode;\n\t\tnode = node.previousSibling; // cannot be null\n\t\twhile (i++<count) {\n\t\t\tvar child = node.nextSibling;\n\t\t\tchild.__qute_ctx__ && child.__qute_ctx__.$disconnect();\n\t\t\tparent.removeChild(child);\n\t\t}\n\t\tthis.length -= count;\n\t}\n\n\tthis.move = function(from, to) {\n\t\t// TODO this can be optimized (we can search for the 2 nodes in the same time: get2(i1, i2))\n\t\tvar node = this.get(from);\n\t\tif (!node) ERR(14, from, this.length);\n\t\tvar dstNode = this.get(to);\n\t\tif (!dstNode) ERR(15, to, this.length);\n\t\tdstNode = dstNode.nextSibling;\n\t\tif (dstNode) {\n\t\t\tdstNode.parentNode.insertBefore(node, dstNode);\n\t\t} else {\n\t\t\tdstNode.parentNode.append(node);\n\t\t}\n\t}\n}\n\n\n\nvar AP = Array.prototype;\nvar ListProto = {\n\t$createListFragment: function(rendering, listFn) {\n\t\tvar listRendering = new Rendering(rendering.vm);\n\t\tif (!this.lfs) this.lfs = [];\n\t\tvar lf = new ListFragment(listRendering, listFn);\n\t\tvar frag = document.createDocumentFragment();\n\t\tfrag.appendChild(lf.start);\n\t\tfrag.appendChild(lf.end);\n\t\tlf.insert(this.$data); // initialize\n\t\trendering.up(lf.updateChildren.bind(lf)); // register children updates\n\t\tthis.lfs.push(lf);\n\t\trendering.$push(listRendering);\n\t\treturn frag;\n\t},\n\t/*\n\t$destroy: function() { //TODO not used\n\t\tthis.lfs = null;\n\t},\n\t*/\n\t$updateNow: function() {\n\t\tif (this.lfs) {\n\t\t\tvar ops = this.ops;\n\t\t\tvar data = this.$data;\n\t\t\tvar lfs = this.lfs;\n\t\t\tvar l = lfs.length;\n\t\t\twhile (ops.length) {\n\t\t\t\tvar op = ops.shift();\n\t\t\t\tfor (var i=0,l=lfs.length; i<l; i++) {\n\t\t\t\t\top(lfs[i], data);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\t$update: function(op) {\n\t\tif (this.lfs) {\n\t\t\tif (this.ops.push(op) === 1) { // if queue is empty start an update task\n\t\t\t\tvar self = this;\n\t\t\t\tUpdateQueue.push(function() {\n\t\t\t\t\tself.$updateNow();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\t$redraw: function() {\n\t\tthis.$update(function(lf, data) {\n\t\t\tlf.clear();\n\t\t\tlf.insert(data);\n\t\t});\n\t},\n\t$insert: function(from, count) {\n\t\tthis.$update(function(lf, data) {\n\t\t\tlf.insert(data, from, count);\n\t\t});\n\t},\n\t$remove: function(from, count) {\n\t\tthis.$update(function(lf, data) {\n\t\t\tlf.remove(from, count);\n\t\t});\n\t},\n\t$move: function(from, to) {\n\t\tthis.$update(function(lf, data) {\n\t\t\tlf.move(from, to);\n\t\t});\n\t},\n\n\ttoJSON: function() {\n\t\treturn this.$data;\n\t},\n\tdata: function() {\n\t\treturn this.$data;\n\t},\n\tnewList: function() {\n\t\treturn new List(this.$data);\n\t},\n\n\tclear: function() {\n\t\tthis.replace([]);\n\t},\n\treplace: function (ar) {\n\t\tthis.$data = ar;\n\t\tthis.$redraw();\n\t},\n\n\tmove: function(from, to) {\n\t\tthis.$data.splice(to, 0, this.$data.splice(from, 1)[0]);\n\t\tthis.$move(from, to);\n\t},\n\n\tremove: function(item) {\n\t\tvar i = this.$data.indexOf(item);\n\t\tif (i > -1) {\n\t\t\treturn this.splice(i, 1);\n\t\t}\n\t},\n\n\tpush: function() {\n\t\tvar from = this.$data.length;\n\t\tvar r = AP.push.apply(this.$data, arguments);\n\t\tthis.$insert(from, arguments.length);\n\t\treturn r;\n\t},\n\tunshift: function() {\n\t\tvar from = this.$data.length;\n\t\tvar r = AP.unshift.apply(this.$data, arguments);\n\t\tthis.$insert(0, arguments.length);\n\t\treturn r;\n\t},\n\tpop: function() {\n\t\tvar r = AP.pop.apply(this.$data, arguments);\n\t\tthis.$remove(this.$data.length, 1);\n\t\treturn r;\n\t},\n\tshift: function() {\n\t\tvar r = AP.shift.apply(this.$data, arguments);\n\t\tthis.$remove(0, 1);\n\t\treturn r;\n\t},\n\tsplice: function(start, deleteCount) {\n\t\tvar argsl = arguments.length;\n\t\tvar len = this.$data.length;\n\t\tvar r = AP.splice.apply(this.$data, arguments);\n\t\tif (argsl === 1) {\n\t\t\tthis.$remove(start, len-start);\n\t\t} else if (argsl === 2) {\n\t\t\tthis.$remove(start, deleteCount);\n\t\t} else { // some inserted items\n\t\t\tif (deleteCount) this.$remove(start, deleteCount);\n\t\t\tthis.$insert(start, argsl-2);\n\t\t}\n\t\treturn r;\n\t},\n\tsort: function(cmp) {\n\t\tthis.$data.sort(cmp);\n\t\tthis.$redraw();\n\t\treturn this.$data;\n\t},\n\treverse: function() {\n\t\tthis.$data.reverse();\n\t\tthis.$redraw();\n\t\treturn this.$data;\n\t},\n\tget: function(i) {\n\t\treturn this.$data[i];\n\t},\n\tslice: function() {\n\t\treturn AP.slice.apply(this.$data, arguments);\n\t},\n\tforEach: function(cb, thisArg) {\n\t\tthis.$data.forEach(cb, thisArg);\n\t},\n\tmap: function(cb, thisArg) {\n\t\treturn this.$data.map(cb, thisArg);\n\t},\n\tfilter: function(cb, thisArg) {\n\t\treturn this.$data.filter(cb, thisArg);\n\t},\n\tfind: function(cb, thisArg) {\n\t\treturn this.$data.find(cb, thisArg);\n\t},\n\tfindIndex: function(cb, thisArg) {\n\t\treturn this.$data.findIndex(cb, thisArg);\n\t},\n\treduce: function(cb, initialValue) {\n\t\treturn this.$data.reduce(cb, initialValue);\n\t},\n\treduceRight: function(cb, initialValue) {\n\t\treturn this.$data.reduceRight(cb, initialValue);\n\t},\n\tindexOf: function(elem, from) {\n\t\treturn this.$data.indexOf(elem, from || 0);\n\t},\n\tlastIndexOf: function(elem, from) {\n\t\treturn this.$data.lastIndexOf(elem, from || this.$data.length-1);\n\t},\n\t//TODO add some, every, ...\n}\nObject.defineProperty(ListProto, 'length', {get:function() {return this.$data.length}});\n\nexport default function List(data) {\n\tthis.ops = []; // update operations queue\n\tthis.lfs = null; // the list fragment\n\tthis.$data = data || []; // the backed data\n}\nList.prototype = ListProto;\n","import window, {document} from '@qutejs/window';\nimport ERR from './error.js';\nimport { stopEvent, chainFnAfter, closestVM, kebabToCamel } from './utils.js';\n\nimport Rendering from './rendering.js';\nimport List from './list.js';\nimport UpdateQueue from './update.js';\nimport Context from './context.js';\nimport {createListeners, SetProp, SetVMAttrs, SetClass, SetStyle, SetToggle, SetDisplay} from './binding.js';\nimport Emitter from './emit.js';\n\n\nfunction isEnumerable(key) {\n\treturn key.charCodeAt(0) !== 95; // keys starting with _ are not enumerable\n}\n\nfunction defProp(key) {\n\treturn {\n\t\tget: function() {\n\t\t\treturn this.$data[key];\n\t\t},\n\t\tset: function(value) {\n\t\t\tvar old = this.$data[key];\n\t\t\tif (old !== value) {\n\t\t\t\tthis.$data[key] = value;\n\t\t\t\tvar watcher = this.$el && this.$watch && this.$watch[key]; // if not connected whatchers are not enabled\n\t\t\t\t// avoid updating if watcher return false\n\t\t\t\tif (watcher && watcher.call(this, value, old) === false) return;\n\t\t\t\tthis.update(key);\n\t\t\t}\n\t\t},\n\t\tenumerable: isEnumerable(key) // keys starting with _ are not enumerable\n\t}\n}\n\nfunction listProp(key) {\n\treturn {\n\t\tget: function() {\n\t\t\treturn this.$data[key];\n\t\t},\n\t\tset: function(value) {\n\t\t\tvar old = this.$data[key];\n\t\t\tif (old !== value) {\n\t\t\t\tif (!value) { // remove list content\n\t\t\t\t\tthis.$data[key].clear();\n\t\t\t\t} else if (Array.isArray(value)) {\n\t\t\t\t\tthis.$data[key].replace(value);\n\t\t\t\t} else if (value instanceof List) {\n\t\t\t\t\t//TODO should we copy the data?\n\t\t\t\t\tif (old) old.$disconnect();\n\t\t\t\t\tthis.$data[key] = value;\n\t\t\t\t} else {\n\t\t\t\t\tERR(31, value);\n\t\t\t\t}\n\t\t\t\tvar watcher = this.$watch && this.$watch[key];\n\t\t\t\t// avoid updating if watcher return false\n\t\t\t\tif (watcher && watcher.call(this, value, old) === false) return;\n\t\t\t\tthis.update(key);\n\t\t\t}\n\t\t},\n\t\tenumerable: isEnumerable(key) // keys starting with _ are not enumerable\n\t}\n}\n\nfunction ViewModel(ctx, attrs) {\n\tvar prop = {};\n\t// the attributes set on vm tag which are not declared as props\n\tprop.value = {};\n\tObject.defineProperty(this, '$attrs', prop);\n\t// the app context if any\n\tprop.value = ctx instanceof Context ? ctx : new Context(ctx);\n\tObject.defineProperty(this, '$ctx', prop);\n\t// the listeners registered on the vm tag\n\tprop.value = null;\n\tprop.writable = true;\n\t// the associated rendering context\n\tObject.defineProperty(this, '$r', prop);\n\t// listeners injected through tag attributes (e.g. @click)\n\tObject.defineProperty(this, '$listeners', prop);\n\t// the slots injected by the caller\n\tObject.defineProperty(this, '$slots', prop);\n\t// the view root element\n\tObject.defineProperty(this, '$el', prop);\n\t// chained cleanup functions if any was registered\n\tObject.defineProperty(this, '$clean', prop);\n\t// States: 0 - initial, 1 - connected, 2 - updating\n\tprop.value = 0;\n\tObject.defineProperty(this, '$st', prop); // state: 0 - default, 1 updating , 2 frozen\n\n\tvar data = this.init(ctx) || {};\n\tprop.value = data;\n\tObject.defineProperty(this, '$data', prop);\n\tif (data) {\n\t\tfor (var key in data) {\n\t\t\tObject.defineProperty(this, key, data[key] instanceof List ? listProp(key) : defProp(key));\n\t\t}\n\t}\n\n\tif (!this.render) ERR(32);\n\n\t// initialize data model from attributes if any - this will not trigger an update\n\tif (attrs) {\n\t\tvar $data = this.$data;\n\t\tvar $attrs = this.$attrs;\n\t\tObject.keys(attrs).forEach(function(key) {\n\t\t\tvar value = attrs[key];\n\t\t\tif (key in $data) { // a declared property\n\t\t\t\t$data[key] = value;\n\t\t\t} else {\n\t\t\t\tvar camelKey = kebabToCamel(key);\n\t\t\t\tif (camelKey !== key && camelKey in $data) {\n\t\t\t\t\t$data[camelKey] = value;\n\t\t\t\t} else if ($attrs[key] !== value) {\n\t\t\t\t\t// attributes are not camelized\n\t\t\t\t\t$attrs[key] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\nViewModel.prototype = {\n\t__VM__:true,\n\ttoString: function() {\n\t\treturn 'ViewModel <'+this.$tag+'/>';\n\t},\n\t// set an attribute value (can be either a free property (i.e $attrs[key]) or managed property (i.e. $data[key]))\n\t$set: function(key, value) {\n\t\tif (key in this.$data) { // a declared property\n\t\t\tthis[key] = value;\n\t\t} else {\n\t\t\tvar camelKey = kebabToCamel(key);\n\t\t\tif (camelKey !== key && camelKey in this.$data) {\n\t\t\t\tthis[camelKey] = value;\n\t\t\t} else if (this.$attrs[key] !== value) {\n\t\t\t\t// attributes are not camelized\n\t\t\t\tthis.$attrs[key] = value;\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t}\n\t},\n\t// subscribe to the given channel name - for use on root VMs\n\tlisten: function(channelName) {\n\t\tif (!this.$channel) ERR(39, this.$tag);\n\t\t// add an init function\n\t\tthis.$init = chainFnAfter(function(thisObj) {\n\t\t\tthisObj.subscribe(channelName, thisObj.$channel);\n\t\t}, this.$init);\n\t\treturn this;\n\t},\n\t//TODO use setup in listen and $on\n\tsetup: function(setupFn) {\n\t\tthis.$init = chainFnAfter(setupFn, this.$init);\n\t\treturn this;\n\t},\n\tcleanup: function(fn) { // register a cleanup function when component is disconnected\n\t\tthis.$clean = chainFnAfter(fn, this.$clean);\n\t\treturn this;\n\t},\n\t$parent: function() {\n\t\tif (!this.$el) ERR(35);\n\t\treturn closestVM(this.$el.parentNode);\n\t},\n\t$root: function() {\n\t\tvar parent = this.$parent();\n\t\treturn parent ? parent.$root() : this;\n\t},\n\t$connect: function() {\n\t\tif (this.$st & 1) return; // ignore\n\t\tthis.$st |= 1; // set connected flag\n\t\t// $init may be defined by the prototype to do automatic setup when connected\n\t\t// (e.g. automatic installed listeners defined though VM definitioan 'on' property)\n\t\tif (this.$init) {\n\t\t\tthis.$init(this);\n\t\t}\n\t\tif (this.$listeners) {\n\t\t\tvar listeners = this.$listeners;\n\t\t\tfor (var key in listeners) {\n\t\t\t\tthis.$on(key, listeners[key]);\n\t\t\t}\n\t\t}\n\t\t// connect children vms\n\t\tthis.$r.$connect();\n\t\t// call the connected callback\n\t\tthis.connected && this.connected();\n\t\treturn this;\n\t},\n\t$disconnect: function() {\n\t\tif (!(this.$st & 1)) return; // ignore\n\t\tthis.$st ^= 1; // clear connected flag\n\t\tif (this.$clean) {\n\t\t\tthis.$clean();\n\t\t\tthis.$clean = null;\n\t\t}\n\t\tthis.$r.$disconnect(); // disconnect children vms\n\t\tthis.disconnected && this.disconnected();\n\t},\n\t// initialize a vm from tag raw data\n\t$load: function(rendering, xattrs, slots) {\n\t\tvar bindings = null;\n\t\tvar parentVM = rendering.vm;\n\t\tthis.$slots = slots;\n\t\tif (xattrs) {\n\t\t\tfor (var key in xattrs) {\n\t\t\t\tvar val = xattrs[key];\n\t\t\t\tif (key.charCodeAt(0) === 36) { // $ - extended attribute\n\t\t\t\t\tif (key === '$on') {\n\t\t\t\t\t\t//TODO we should make a copy of val since it is modified by createListeners!!!\n\t\t\t\t\t\tthis.$listeners = createListeners(parentVM, val); // use parent vm when creating listeners\n\t\t\t\t\t} else if (key === '$attrs') { // we must not delete keys from xattrs since it can break when vm is loaded by a dynamic component\n\t\t\t\t\t\t//TODO DO WE NEED to add an update fn? x-attrs are static\n\t\t\t\t\t\trendering.up(SetVMAttrs(this, parentVM, val))();\n\t\t\t\t\t} else if (key === '$class') {\n\t\t\t\t\t\tif (!bindings) bindings = [];\n\t\t\t\t\t\tbindings.push(SetClass, val);\n\t\t\t\t\t} else if (key === '$style') {\n\t\t\t\t\t\tif (!bindings) bindings = [];\n\t\t\t\t\t\tbindings.push(SetStyle, val);\n\t\t\t\t\t} else if (key === '$show') {\n\t\t\t\t\t\tif (!bindings) bindings = [];\n\t\t\t\t\t\tbindings.push(SetDisplay, val);\n\t\t\t\t\t} else if (key === '$toggle') {\n\t\t\t\t\t\tif (!bindings) bindings = [];\n\t\t\t\t\t\tbindings.push(SetToggle, val);\n\t\t\t\t\t} else if (key === '$channel') {\n\t\t\t\t\t\tthis.listen(val);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tERR(26, key);\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof val === 'function') { // a dynamic binding\n\t\t\t\t\trendering.up(SetProp(this, parentVM, key, val))();\n\t\t\t\t} else { // static binding\n\t\t\t\t\tthis.$set(key, val);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn bindings;\n\t},\n\t$create: function(parentRendering, xattrs, slots) {\n\t\t// load definition\n\t\tvar bindings = parentRendering && this.$load(parentRendering, xattrs, slots);\n\t\tvar rendering = new Rendering(this);\n\t\t// must never return null - for non rendering components like popups we return a comment\n\t\tvar el = this.render(rendering) || document.createComment('<'+this.$tag+'/>');\n\t\tthis.$r = rendering;\n\t\tel.__qute__ = this;\n\t\tthis.$el = el;\n\t\tif (bindings) for (var i=0,l=bindings.length; i<l; i+=2) {\n\t\t\tvar binding = bindings[i];\n\t\t\tvar up = bindings[i](el, parentRendering.vm, bindings[i+1]);\n\t\t\tparentRendering.up(up)();\n\t\t}\n\t\tthis.created && this.created(el);\n\t\t// this can trigger a connect if tree is already connected (for example when inserting a comp in a connected list)\n\t\tparentRendering && parentRendering.$push(this);\n\t\treturn el;\n\t},\n\n\t// manual mount (only roots must be moutned this way)\n\tmount: function(elOrId, insertBefore) {\n\t\tif (this.$el) ERR(33); //TODO should check if connected and if not root\n\t\tvar target;\n\t\tif (elOrId) {\n\t\t\ttarget = typeof elOrId === 'string' ? document.getElementById(elOrId) : elOrId;\n\t\t} else {\n\t\t\ttarget = document.body;\n\t\t}\n\t\tvar el = this.$create();\n\t\tif (insertBefore) {\n\t\t\ttarget.parentNode.insertBefore(el, target);\n\t\t} else {\n\t\t\ttarget.appendChild(el);\n\t\t}\n\t\tthis.$connect();\n\t\t// announce the tree was attached to the DOM\n\t\treturn this;\n\t},\n\t// only manually mounted vms can be unmounted\n\tunmount: function() {\n\t\t// a child vm?\n\t\t//if (this.$p) ERR();\n\t\tif (!this.$el) ERR(34); // TODO check if root and mounted\n\t\tthis.$disconnect();\n\t\tthis.$el.parentNode.removeChild(this.$el);\n\t},\n\t$update: function(key) {\n\t\tif (this.$el) { // only if connected\n\t\t\tthis.$r.$update();\n\t\t}\n\t},\n\tupdate: function(key) {\n\t\tif (this.$st === 1) { // only if connected and not already scheduled to update\n\t\t\tthis.$st |= 2; // set updating flag\n\t\t\tvar self = this;\n\t\t\tUpdateQueue.push(function() {\n\t\t\t\tself.$update(key);\n\t\t\t\tself.$st ^= 2; // remove updating flag\n\t\t\t});\n\t\t}\n\t},\n\t$on: function(type/*, selector, cb*/) {\n\t\tif (!this.$el) ERR(34);\n\t\t//if (!this.$clean) this.$clean = [];\n\t\tvar selector, cb;\n\t\tif (arguments.length === 3) {\n\t\t\tselector = arguments[1];\n\t\t\tcb = arguments[2];\n\t\t\tif (!cb) {\n\t\t\t\tcb = selector;\n\t\t\t\tselector = null;\n\t\t\t\tif (!cb) throw new Error('on function requires a callback argument');\n\t\t\t}\n\t\t} else if (arguments.length === 2) {\n\t\t\tcb = arguments[1];\n\t\t} else {\n\t\t\tthrow new Error('on function takes 2 or 3 arguments: eventType[, seelctor], callback');\n\t\t}\n\t\tvar self = this;\n\t\tvar wrapper = function(e) {\n\t\t\tif (!selector || e.target.matches(selector)) {\n\t\t\t\tif (cb.call(self, e) === false) {\n\t\t\t\t\tstopEvent(e);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.$el.addEventListener(type, wrapper);\n\t\tthis.cleanup(function() {\n\t\t\tself.$el.removeEventListener(type, wrapper);\n\t\t});\n\t\t//this.$clean.push(type, wrapper);\n\t},\n\temit: Emitter.emit,\n\temitAsync: Emitter.emitAsync,\n\t// -------- ctx event bus -------------\n\tpost: function(topic, msg, data) {\n\t\tthis.$ctx.post(topic, msg, data);\n\t},\n\tpostAsync: function(topic, msg, data) {\n\t\tthis.$ctx.postAsync(topic, msg, data);\n\t},\n\t// subscribe and register cleanup to remove subscription at disconnect\n\tsubscribe: function(name, listenerFn) {\n\t\tvar ctx = this.$ctx;\n\t\tctx.subscribe(name, listenerFn.bind(this));\n\t\tthis.cleanup(function() {\n\t\t\tctx.unsubscribe(name, listenerFn);\n\t\t});\n\t\treturn this;\n\t},\n\tsubscribeOnce: function(topic, event, listenerFn) {\n\t\tvar ctx = this.$ctx;\n\t\tvar onceSubscription = ctx.subscribeOnce(topic, event, listenerFn.bind(this));\n\t\tthis.cleanup(function() {\n\t\t\tctx.unsubscribe(topic, onceSubscription);\n\t\t});\n\t\treturn this;\n\t},\n\ttoHTML: function() {\n\t\treturn this.$el && this.$el.outerHTML;\n\t},\n\t// ---------------------------------------------\n\tinit: function() {} // do nothing\n}\n\nexport default ViewModel;\n","import window from '@qutejs/window';\n\nimport ERR from './error.js';\nimport { chainFnAfter, closestVM } from './utils.js';\n\nimport UpdateQueue from './update.js';\nimport Rendering from './rendering.js';\nimport ViewModel from './vm.js';\nimport Context from './context.js';\nimport List from './list.js';\nimport { createListener } from './binding.js';\nimport { registerTag, registerVM, getTag, getVM, getVMOrTag, snapshotRegistry, restoreRegistry } from './registry.js';\n\n/**\n * We cannot use Object.assign since getter are lost. So we copy the prop def itself\n */\nfunction assignPropDefs(dst, src) {\n\tvar keys = Object.keys(src);\n    for(var i=0,l=keys.length; i<l; i++) {\n      var key = keys[i];\n      Object.defineProperty(dst, key, Object.getOwnPropertyDescriptor(src, key));\n    }\n    return dst;\n}\n\nfunction Qute(tag, def, BaseVm) {\n\tif (!tag) ERR(5);\n\n\tfunction ViewModelImpl(ctx, attrs) {\n\t\tViewModel.call(this, ctx, attrs);\n\t}\n\n\tvar VMType, VMProto;\n\tif (typeof def === 'function') {\n\t\tif (def.prototype instanceof ViewModel)\t{\n\t\t\t// VM is defined as a class\n\t\t\tVMType = def;\n\t\t\tVMProto = VMType.prototype;\n\t\t} else {\n\t\t\t// a rendering function - we simply register the rendering fucntion for the given tag\n\t\t\treturn registerTag(tag, def);\n\t\t}\n\t} else { // VM definition object\n\t\tif (!BaseVm) BaseVm = ViewModel;\n\t\tVMProto = Object.create(BaseVm.prototype, {\n\t\t\tconstructor: {value:ViewModelImpl},\n\t\t});\n\t\tif (def) assignPropDefs(VMProto, def); // this is preserving getters\n\t\tVMProto.$super = BaseVm.prototype; // to be able to override methods and call the super method if needed\n\t\tViewModelImpl.prototype = VMProto;\n\n\t\tVMType = ViewModelImpl;\n\t}\n\n\t// add the rendering method of the tag if no one was provided\n\tif (!VMProto.render) {\n\t\tVMProto.render = Qute.template(tag);\n\t\tif (!VMProto.render) {\n\t\t\tERR(36, tag);\n\t\t}\n\t}\n\t// add the tag meta property\n\tVMProto.$tag = tag;\n\tVMProto.$qname = registerVM(tag, VMType);\n\n\tVMType.watch = function(prop, fn) {\n\t\tif (!VMProto.$watch) Object.defineProperty(VMProto, '$watch', {value:{}});\n\t\tVMProto.$watch[prop] = fn;\n\t\treturn VMType;\n\t}\n\tVMType.on = function(key, selector, cb) {\n\t\tVMProto.$init = chainFnAfter(function(thisObj) {\n\t\t\tthisObj.$on(key, selector, cb);\n\t\t}, VMProto.$init);\n\t\treturn VMType;\n\t}\n\tVMType.channel = function(listenFn) {\n\t\tVMProto.$channel = listenFn;\n\t\treturn this;\n\t}\n\n\treturn VMType;\n}\n\nQute.List = List;\nQute.ViewModel = ViewModel;\n\n// link a viewmodel to a template. Usefull for classes where defining prototype methods is not part of the class syntax\nQute.link = function(VMType, renderFn) {\n\tVMType.prototype.render = renderFn;\n}\n\n\nvar QUTE_STYLE=null;\nQute.css = function(css) {\n\tvar doc = window.document;\n\tif (!QUTE_STYLE) {\n\t\tvar style = doc.getElementById('--qute-inline-styles');\n\t\tif (!style) {\n\t\t\tstyle = doc.createElement('STYLE');\n\t\t\tstyle.id = '--qute-inline-styles';\n\t\t\tstyle.type = 'text/css';\n\t\t\tstyle.textContent = \"\\n\";\n\t\t\tdoc.head.insertBefore(style, doc.head.firstChild);\n\t\t}\n\t\tQUTE_STYLE = style;\n\t}\n\tQUTE_STYLE.textContent += css;\n}\n\nQute.converters = {};\nContext.Qute = Qute; // we need this to access globals defined in Qute like converters\nQute.Context = Context;\nQute.UpdateQueue = UpdateQueue;\nQute.Rendering = Rendering;\n// render a functional template given its tag name and a model\nQute.render = function(xtagName, model) {\n\treturn getTag(xtagName)(new Rendering(model));\n}\n\nQute.register = registerTag;\nQute.template = getTag;\nQute.snapshotRegistry = snapshotRegistry;\nQute.restoreRegistry = restoreRegistry;\nQute.vm = getVM;\nQute.vmOrTemplate = getVMOrTag;\n\nQute.runAfter = function(cb) { UpdateQueue.runAfter(cb); }\nQute.closest = closestVM;\nQute.ERR = ERR;\n\n\nexport default Qute;\n\n"],"names":["window","document"],"mappings":"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"}